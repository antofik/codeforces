
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="26dadcd851d4124g98g7385gb2fchb50"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://worker.codeforces.ru/static/images/codeforces-vk-square-ru.png"/>
    <meta property="og:title" content="Задачи - Codeforces"/>
    <meta property="og:site_name" content="Codeforces"/>
    
    <meta name="cc" content="mjj0kdcaw0c5"/>
    
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов" />
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup" />
    <meta name="robots" content="index, follow" />

    <link href="http://worker.codeforces.ru/static/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--CombineResourcesFilter-->
    
<LINK href="http://worker.codeforces.ru/static/favicon.png" rel="shortcut icon" type="image/png">
    
<LINK href="http://worker.codeforces.ru/static/css/prettify.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/clear.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/style.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/ttypography.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/problem-statement.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/second-level-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/roundbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/datatable.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/topic.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/table-form.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.jgrowl.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/facebox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.wysiwyg.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/codeforces.datepick.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/colorbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.drafts.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/skins/markitup/style.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/sets/markdown/style.css" rel="stylesheet" type="text/css">

    
<SCRIPT charset="utf-8" src="//yandex.st/share/share.js" type="text/javascript"></SCRIPT>
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/sidebar-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/community.css" rel="stylesheet" type="text/css">

    <!--[if IE]>
        <style>
            #sidebar {
                padding-left: 1em;
                margin: 1em 1em 1em 0;
            }
        </style>
    <![endif]-->
    
    
<SCRIPT src="http://worker.codeforces.ru/static/js/prettify/prettify.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery-1.8.3.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/sockjs-0.2.1.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/vertxbus-1.2.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.easing.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.lavalamp.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.jgrowl.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/facebox.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.wysiwyg.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.colorpicker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.table.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.image.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.link.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.autocomplete.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.datepick.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ie6blocker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.colorbox-min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ba-bbq.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.drafts.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/codeforces.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/jquery.markitup.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/sets/markdown/set.js" type="text/javascript"></SCRIPT>
    <!--/CombineResourcesFilter-->
</HEAD>
</HTML>

        <script type="text/javascript" src="http://worker.codeforces.ru/static/js/jquery.datepick-ru.js"></script>
        <script src="http://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body><span style='display:none;' class='csrf-token' data-csrf='26dadcd851d4124g98g7385gb2fchb50'>&nbsp;</span>
<!-- Codeforces javascripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function() {
    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="/"><img src="http://worker.codeforces.ru/static/images/codeforces-logo-with-upper-beta.png"/></a>
                        <div style="position:absolute;left:97px;top:40px;">
                            <a href="http://vk.com" class="logo-href">При поддержке <img
                                    style="position:relative;top:5px;" src="http://worker.codeforces.ru/static/images/vkontakte-tiny-ru.png"/></a>
                        </div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="http://worker.codeforces.ru/static/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="http://worker.codeforces.ru/static/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;"
         class="caption">Codeforces Round #103 (Div. 2)</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Приезд генерала</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В Самую Секретную Военную Часть под командованием полковника Покрышкина приехал с проверкой генерал из Министерства Обороны. По этому случаю полковник приказал всем <span class="tex-span"><i>n</i></span> солдатам из своей Части построиться на плацу.</p><p>Согласно военному уставу, солдаты должны стоять в порядке невозрастания их роста, но так как времени на построение совсем не осталось, то солдаты выстроились в произвольном порядке. Однако у генерала весьма плохое зрение, и поэтому он считает, что солдаты построены правильно, если самый первый в строю — солдат с максимальным ростом, а самый последний — солдат с минимальным ростом. Обратите внимание, что неважно то, как расположены остальные солдаты, в том числе и в случае нескольких максимальных или минимальных по росту солдат. Важны лишь росты <span class="tex-font-style-bf">первого</span> и <span class="tex-font-style-bf">последнего</span> солдата.</p><p>Например, генерал считает последовательность ростов <span class="tex-font-style-tt">(4, 3, 4, 2, 1, 1)</span> правильной, а последовательность <span class="tex-font-style-tt">(4, 3, 1, 2, 2)</span> — нет.</p><p>За одну секунду полковник может обменять местами любых двух соседних солдат. Помогите ему подсчитать, какое минимальное количество секунд понадобится, чтобы получившийся строй понравился генералу.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>Первая строка входных данных содержит единственное целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 100</span>) — количество солдат в строю. Вторая строка содержит целые числа <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 100</span>) — величины ростов солдат в порядке от начала строя к концу. Числа разделены пробелом. Числа <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> не обязательно различны.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное целое число — какое минимальное количество секунд понадобится полковнику, чтобы получившийся строй понравился генералу.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>4<br />33 44 11 22<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>7<br />10 10 58 31 63 40 76<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>10<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом примере полковнику нужно поменять местами первого и второго солдата, а затем третьего и четвертого — это займет 2 секунды. Итоговое положение солдат: <span class="tex-font-style-tt">(44, 33, 22, 11)</span>.</p><p>Во втором примере полковник может производить обмены в следующей последовательности:</p><p><ol> <li> <span class="tex-font-style-tt">(10, 10, 58, 31, 63, 40, 76)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 10, 31, 63, 40, 76)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 10, 31, 63, 76, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 10, 31, 76, 63, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 31, 10, 76, 63, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 31, 76, 10, 63, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 31, 76, 63, 10, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 58, 76, 31, 63, 10, 40)</span> </li><li> <span class="tex-font-style-tt">(10, 76, 58, 31, 63, 10, 40)</span> </li><li> <span class="tex-font-style-tt">(76, 10, 58, 31, 63, 10, 40)</span> </li><li> <span class="tex-font-style-tt">(76, 10, 58, 31, 63, 40, 10)</span> </li></ol></p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Совещание</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Самое Секретное Совещание Самой Секретной Военной Части проходит в Самом Секретном Месте — на бесконечной плоскости, в которой введена декартова система координат. Стол для переговоров представляет собой прямоугольник со сторонами параллельными осям координат и с вершинами в целочисленных точках плоскости. В каждой целочисленной точке, которая принадлежит периметру стола, находится кресло, где сидит один из генералов.</p><p>Чтобы генералам было не холодно в зимнее время, в некоторых точках на плоскости стоят тепловые батареи. Каждая батарея характеризуется числом <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> — радиусом действия. То есть если некоторый генерал находится на расстоянии, меньшем или равном <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> от этой батареи — то ему комфортно и тепло. В этой задаче под расстоянием следует понимать Евклидово расстояние: расстояние от точки <span class="tex-span">(<i>x</i><sub class="lower-index">1</sub>, <i>y</i><sub class="lower-index">1</sub>)</span> до точки <span class="tex-span">(<i>x</i><sub class="lower-index">2</sub>, <i>y</i><sub class="lower-index">2</sub>)</span> равно <img align="middle" class="tex-formula" src="http://codeforces.ru/renderer/d394ce7828aca5f4a13ba5da07930eb2db7cd514.png" /></p><p>Каждый генерал, который находится вне зон действия всех батарей, может заболеть, и поэтому вы должны принести ему теплый плед. Ваша задача — подсчитать, сколько теплых пледов вам нужно принести в Самое Секретное Место.</p><p>Генералам, которым уже комфортно, не требуется плед. Также генералы никогда не перегреваются, даже если они находятся в зоне действия нескольких батарей. Батареи могут быть расположены в любых целочисленных точках плоскости: даже внутри прямоугольника (под столом) и на периметре (непосредственно под одним из генералов), — и даже в этих случаях их радиус действия не меняется.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке даны координаты двух противоположных углов стола <span class="tex-span"><i>x</i><sub class="lower-index"><i>a</i></sub></span>, <span class="tex-span"><i>y</i><sub class="lower-index"><i>a</i></sub></span>, <span class="tex-span"><i>x</i><sub class="lower-index"><i>b</i></sub></span>, <span class="tex-span"><i>y</i><sub class="lower-index"><i>b</i></sub></span> (<span class="tex-span"><i>x</i><sub class="lower-index"><i>a</i></sub> ≠ <i>x</i><sub class="lower-index"><i>b</i></sub>, <i>y</i><sub class="lower-index"><i>a</i></sub> ≠ <i>y</i><sub class="lower-index"><i>b</i></sub>)</span>. Во второй строке дано число <span class="tex-span"><i>n</i></span> — количество батарей (<span class="tex-span">1 ≤ <i>n</i> ≤ 10<sup class="upper-index">3</sup></span>), и далее в <span class="tex-span"><i>n</i></span> строках даны координаты батарей в формате «<span class="tex-font-style-tt"><span class="tex-span"><i>x</i><sub class="lower-index"><i>i</i></sub></span> <span class="tex-span"><i>y</i><sub class="lower-index"><i>i</i></sub></span> <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span></span>», числа разделены пробелом. Все числа во входных данных — целые. Все координаты по модулю не превосходят <span class="tex-span">1000</span>, <span class="tex-span">1 ≤ <i>r</i><sub class="lower-index"><i>i</i></sub> ≤ 1000</span>. В одной точке могут находиться несколько батарей.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное число — сколько вам нужно принести пледов.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>2 5 4 2<br />3<br />3 1 2<br />5 3 1<br />1 3 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>4<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>5 2 6 3<br />2<br />6 2 2<br />6 5 3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом примере генералы сидят в точках: <span class="tex-span">(2, 2)</span>, <span class="tex-span">(2, 3)</span>, <span class="tex-span">(2, 4)</span>, <span class="tex-span">(2, 5)</span>, <span class="tex-span">(3, 2)</span>, <span class="tex-span">(3, 5)</span>, <span class="tex-span">(4, 2)</span>, <span class="tex-span">(4, 3)</span>, <span class="tex-span">(4, 4)</span>, <span class="tex-span">(4, 5)</span>. Из них вне зон действия батарей расположены лишь 4, это генералы в точках: <span class="tex-span">(2, 5)</span>, <span class="tex-span">(3, 5)</span>, <span class="tex-span">(4, 4)</span>, <span class="tex-span">(4, 5)</span>.</p><p>Во втором примере генералы сидят в точках: <span class="tex-span">(5, 2)</span>, <span class="tex-span">(5, 3)</span>, <span class="tex-span">(6, 2)</span>, <span class="tex-span">(6, 3)</span>. Каждый из них находится в зоне действия хотя бы одной батареи, и пледы не нужны вообще.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Поиск анаграмм</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Строка <span class="tex-span"><i>t</i></span> называется <span class="tex-font-style-it">анаграммой</span> строки <span class="tex-span"><i>s</i></span>, если в строке <span class="tex-span"><i>t</i></span> можно переставить буквы местами так, чтобы получилась строка <span class="tex-span"><i>s</i></span>. Например, строка «<span class="tex-font-style-tt">aab</span>» является анаграммой строки «<span class="tex-font-style-tt">aba</span>», а строка «<span class="tex-font-style-tt">aaa</span>» — нет.</p><p>Строка <span class="tex-span"><i>t</i></span> называется <span class="tex-font-style-it">подстрокой</span> строки <span class="tex-span"><i>s</i></span>, если ее можно прочитать начиная с некоторой позиции в строке <span class="tex-span"><i>s</i></span>. Например, у строки «<span class="tex-font-style-tt">aba</span>» есть шесть подстрок: «<span class="tex-font-style-tt">a</span>», «<span class="tex-font-style-tt">b</span>», «<span class="tex-font-style-tt">a</span>», «<span class="tex-font-style-tt">ab</span>», «<span class="tex-font-style-tt">ba</span>», «<span class="tex-font-style-tt">aba</span>».</p><p>Дана строка <span class="tex-span"><i>s</i></span>, состоящая из строчных латинских букв и символов «<span class="tex-font-style-tt">?</span>», и строка <span class="tex-span"><i>p</i></span>, состоящая только из строчных латинских букв. Назовем строку <span class="tex-font-style-it">хорошей</span>, если из нее можно получить анаграмму строки <span class="tex-span"><i>p</i></span> заменой символов «<span class="tex-font-style-tt">?</span>» на символы латинского алфавита (каждый символ «<span class="tex-font-style-tt">?</span>» заменяется на ровно один символ латинского алфавита). Например, если строка <span class="tex-span"><i>p</i></span> = «<span class="tex-font-style-tt">aba</span>», то строка «<span class="tex-font-style-tt">a??</span>» хорошая, а строка «<span class="tex-font-style-tt">?bc</span>» нет. </p><p>Ваша задача найти количество хороших подстрок строки <span class="tex-span"><i>s</i></span> (одинаковые подстроки нужно учесть в ответе несколько раз).</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке задана непустая строка <span class="tex-span"><i>s</i></span>, состоящая из не более чем <span class="tex-span">10<sup class="upper-index">5</sup></span> строчных латинских букв и символов «<span class="tex-font-style-tt">?</span>». Во второй строке задана непустая строка <span class="tex-span"><i>p</i></span>, состоящая из не более чем <span class="tex-span">10<sup class="upper-index">5</sup></span> строчных латинских букв. Обратите внимание, что длина строки <span class="tex-span"><i>p</i></span> может быть больше длины строки <span class="tex-span"><i>s</i></span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное число — количество хороших подстрок строки <span class="tex-span"><i>s</i></span>.</p><p>Две подстроки считаются различными, если их позиции вхождения различны. Значит, если какая-то строка встречается несколько раз, то она должна быть учтена такое же количество раз.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>bb??x???<br />aab<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>ab?c<br />acb<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Рассмотрим первый тест из условия. Здесь у строки <span class="tex-span"><i>s</i></span> две хорошие подстроки: «<span class="tex-font-style-tt">b??</span>» (после замены вопросов получится «<span class="tex-font-style-tt">baa</span>»), «<span class="tex-font-style-tt">???</span>» (после замены вопросов получится «<span class="tex-font-style-tt">baa</span>»).</p><p>Рассмотрим второй тест из условия. Здесь у строки <span class="tex-span"><i>s</i></span> две хорошие подстроки: «<span class="tex-font-style-tt">ab?</span>» (можно заменить «<span class="tex-font-style-tt">?</span>» на «<span class="tex-font-style-tt">c</span>»), «<span class="tex-font-style-tt">b?c</span>» (можно заменить «<span class="tex-font-style-tt">?</span>» на «<span class="tex-font-style-tt">a</span>»).</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Ракетные шахты</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Страна Берляндия состоит из <span class="tex-span"><i>n</i></span> городов, пронумерованных целыми числами от <span class="tex-span">1</span> до <span class="tex-span"><i>n</i></span>. Некоторые города соединены двунаправленными дорогами, каждая из которых имеет некоторую длину. Из каждого города существует путь в любой другой город по дорогам. Согласно Самым Секретным Документам, Берляндию охраняют Самые Секретные Ракеты. Точное местонахождение Самых Секретных Ракетных Шахт неизвестно, но Вася сумел достать информацию, в которой сказано, что все Шахты расположены точно на расстоянии <span class="tex-span"><i>l</i></span> от столицы, которая находится в городе номер <span class="tex-span"><i>s</i></span>.</p><p>В документах дано формальное определение: в некотором месте, являющемся городом или точкой на дороге, находится Самая Секретная Ракетная Шахта тогда и только тогда, когда кратчайшее расстояние от этого места до столицы по дорогам страны в точности равно <span class="tex-span"><i>l</i></span>.</p><p>Вася хочет узнать, сколько именно ракетных шахт находится в Берляндии, чтобы затем продать эту информацию вражеским шпионам. Помогите Васе.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находятся три целых числа <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>m</i></span> и <span class="tex-span"><i>s</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 10<sup class="upper-index">5</sup></span>, <img align="middle" class="tex-formula" src="http://codeforces.ru/renderer/bdb9cd119f4995cb94d6c49d2ab3bd509f7fe600.png" />, <span class="tex-span">1 ≤ <i>s</i> ≤ <i>n</i></span>) — количество городов, дорог в стране и номер столицы соответственно. Далее в <span class="tex-span"><i>m</i></span> строках даны описания дорог, каждая из которых описывается тремя целыми числами <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>u</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>w</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>v</i><sub class="lower-index"><i>i</i></sub>, <i>u</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>, <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub> ≠ <i>u</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span">1 ≤ <i>w</i><sub class="lower-index"><i>i</i></sub> ≤ 1000</span>), где <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>u</i><sub class="lower-index"><i>i</i></sub></span> — номера городов, которые соединяет эта дорога, а <span class="tex-span"><i>w</i><sub class="lower-index"><i>i</i></sub></span> — ее длина. Последняя строка входных данных содержит целое число <span class="tex-span"><i>l</i></span> (<span class="tex-span">0 ≤ <i>l</i> ≤ 10<sup class="upper-index">9</sup></span>) — расстояние от столицы до ракетных шахт. Гарантируется, что: <ul> <li> между любыми двумя городами существует не более одной дороги; </li><li> каждая дорога соединяет два различных города; </li><li> из каждого города существует хотя бы один путь в любой другой город по дорогам. </li></ul></p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное число — сколько Самых Секретных Ракетных Шахт находится в Берляндии.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>4 6 1<br />1 2 1<br />1 3 3<br />2 3 1<br />2 4 1<br />3 4 1<br />1 4 2<br />2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>5 6 3<br />3 1 1<br />3 2 1<br />3 4 1<br />3 5 1<br />1 2 6<br />4 5 8<br />4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом примере шахты расположены в городах <span class="tex-span">3</span> и <span class="tex-span">4</span>, а также на дороге <span class="tex-span">(1, 3)</span> на расстоянии <span class="tex-span">2</span> от города <span class="tex-span">1</span> (соответственно, на расстоянии <span class="tex-span">1</span> от города <span class="tex-span">3</span>).</p><p>Во втором примере одна из шахт расположена точно на середине дороги <span class="tex-span">(1, 2)</span>, а еще две — на дороге <span class="tex-span">(4, 5)</span> на удалении <span class="tex-span">3</span> от города <span class="tex-span">4</span> в сторону города <span class="tex-span">5</span> и на удалении <span class="tex-span">3</span> от города <span class="tex-span">5</span> в сторону города <span class="tex-span">4</span>.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Соревнование</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Побочной диагональю квадратной матрицы называется диагональ, проходящая из правого верхнего угла матрицы в левый нижний угол. Назовем <span class="tex-font-style-it">лесенкой</span> порядка <span class="tex-span"><i>n</i></span> квадратную матрицу <span class="tex-span"><i>n</i> × <i>n</i></span> без клеток выше побочной диагонали (ниже на рисунке изображена лесенка пятого порядка). </p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/1a3d1d62643ca0ace7a8fafc52405a80c0388099.png" /> </center></p><p>В клетках лесенки порядка <span class="tex-span"><i>n</i></span> стоят <span class="tex-span"><i>m</i></span> спортсменов.</p><p>За секунду спортсмен может перейти на соседнюю по стороне клетку лесенки. Перед началом соревнования каждый спортсмен должен выбрать один из кратчайших путей до побочной диагонали. </p><p>После стартового свистка соревнование начинается, и все спортсмены начинают двигаться по выбранным путям. Когда спортсмен достигает клетки побочной диагонали, он останавливается и больше не двигается. Соревнование заканчивается, когда все спортсмены доходят до побочной диагонали. Соревнование считается успешным, если в процессе соревнования никакие два спортсмена не оказались одновременно в одной клетке (в том числе в одной клетке побочной диагонали не может остановиться более одного спортсмена). Если один спортсмен в данный момент времени уходит из клетки, а другой приходит в нее, то считается, что они не оказались в одной клетке одновременно. Заметим, что другие крайние случаи (например, если спортсмены идут навстречу друг другу) исключаются, так как выбранные пути кратчайшие.</p><p>Даны позиции <span class="tex-span"><i>m</i></span> спортсменов на лесенке. Требуется выбрать из них наибольшее количество спортсменов (все невыбранные спортсмены удаляются из клеток лесенки до начала движения), так чтобы для них соревнование могло бы быть успешным (то есть существовал такой выбор кратчайших путей для спортсменов, при котором в процессе соревнования никакие два спортсмена не оказались бы одновременно в одной клетке). </p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке заданы два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">1 ≤ <i>n</i>, <i>m</i> ≤ 10<sup class="upper-index">5</sup></span>). Далее в <span class="tex-span"><i>m</i></span> строках заданы координаты спортсменов на лесенке парами чисел <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub>, <i>c</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>r</i><sub class="lower-index"><i>i</i></sub>, <i>c</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>, <span class="tex-span"><i>n</i> - <i>c</i><sub class="lower-index"><i>i</i></sub> &lt; <i>r</i><sub class="lower-index"><i>i</i></sub></span>), где <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> — номер строки лесенки, <span class="tex-span"><i>c</i><sub class="lower-index"><i>i</i></sub></span> — номер столбца лесенки (для понимания того как нумеруются строки и столбцы смотрите поясняющие рисунки). Никакие два спортсмена не стоят в одной клетке лесенки.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первую строку выведите количество выбранных спортсменов. Во вторую строку выведите номера выбранных спортсменов в любом порядке, разделяя числа пробелами. Если ответов несколько разрешается вывести любой. Спортсмены нумеруются начиная с единицы в том порядке, в котором они заданы во входных данных.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>3 3<br />2 3<br />3 2<br />3 3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br />1 2 3 <br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Пояснение к первому примеру. <center> <img class="tex-graphics" src="http://codeforces.ru/renderer/69d7a453fbcb5ec045a5ce1da69ae04a2aac1ced.png" /> </center> На рисунке изображена лесенка порядка три. Стрелочками показано какие кратчайшие пути выбирают спортсмены.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>

    <br style="clear:both;"/>

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2013 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>
</body>
</html>                                       
