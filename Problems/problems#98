
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="de46138bdhaca8973752db5d97397b6e"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://worker.codeforces.ru/static/images/codeforces-vk-square-ru.png"/>
    <meta property="og:title" content="Задачи - Codeforces"/>
    <meta property="og:site_name" content="Codeforces"/>
    
    <meta name="cc" content="1vz6u5oycsp1g"/>
    
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов" />
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup" />
    <meta name="robots" content="index, follow" />

    <link href="http://worker.codeforces.ru/static/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--CombineResourcesFilter-->
    
<LINK href="http://worker.codeforces.ru/static/favicon.png" rel="shortcut icon" type="image/png">
    
<LINK href="http://worker.codeforces.ru/static/css/prettify.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/clear.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/style.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/ttypography.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/problem-statement.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/second-level-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/roundbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/datatable.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/topic.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/table-form.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.jgrowl.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/facebox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.wysiwyg.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/codeforces.datepick.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/colorbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.drafts.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/skins/markitup/style.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/sets/markdown/style.css" rel="stylesheet" type="text/css">

    
<SCRIPT charset="utf-8" src="//yandex.st/share/share.js" type="text/javascript"></SCRIPT>
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/sidebar-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/community.css" rel="stylesheet" type="text/css">

    <!--[if IE]>
        <style>
            #sidebar {
                padding-left: 1em;
                margin: 1em 1em 1em 0;
            }
        </style>
    <![endif]-->
    
    
<SCRIPT src="http://worker.codeforces.ru/static/js/prettify/prettify.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery-1.8.3.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/sockjs-0.2.1.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/vertxbus-1.2.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.easing.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.lavalamp.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.jgrowl.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/facebox.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.wysiwyg.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.colorpicker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.table.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.image.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.link.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.autocomplete.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.datepick.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ie6blocker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.colorbox-min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ba-bbq.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.drafts.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/codeforces.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/jquery.markitup.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/sets/markdown/set.js" type="text/javascript"></SCRIPT>
    <!--/CombineResourcesFilter-->
</HEAD>
</HTML>

        <script type="text/javascript" src="http://worker.codeforces.ru/static/js/jquery.datepick-ru.js"></script>
        <script src="http://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body><span style='display:none;' class='csrf-token' data-csrf='de46138bdhaca8973752db5d97397b6e'>&nbsp;</span>
<!-- Codeforces javascripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function() {
    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="/"><img src="http://worker.codeforces.ru/static/images/codeforces-logo-with-upper-beta.png"/></a>
                        <div style="position:absolute;left:97px;top:40px;">
                            <a href="http://vk.com" class="logo-href">При поддержке <img
                                    style="position:relative;top:5px;" src="http://worker.codeforces.ru/static/images/vkontakte-tiny-ru.png"/></a>
                        </div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="http://worker.codeforces.ru/static/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="http://worker.codeforces.ru/static/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;"
         class="caption">Codeforces Beta Round #78 (Div. 1 Only)</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Помогите Василисе Премудрой</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Василисе Премудрой из Тридевятого царства, Тридесятого государства ее подруга Хелависа Премудрая из Тридесятого царства, Тридевятого государства прислала чудесный ларчик с секретом. Однако в чем секрет ларчика Василиса Премудрая пока не знает, потому что не может его открыть. Она надеется, что вы поможете ей в этом.</p><p>Замок ларчика устроен следующим образом. Сам ларчик представляет собой абсолютно идеальный черный куб с одинаковым углублением в каждой из граней (заморские нанотехнологии, пока еще не освоенные в Осколково). К ларчику прилагаются шесть самоцветов той же формы, что и углубления в его гранях. Открыть ларчик можно только после того, как его правильно инкрустировать самоцветами — то есть вставить в углубление каждой грани ровно по одному самоцвету. Две инкрустации считаются одинаковыми, если они могут быть получены одна из другой произвольными вращениями ларчика (вспомните, ларчик представляет собой идеальный нанотехнологический куб).</p><p>Теперь Василиса Премудрая хочет по набору цветов самоцветов определить, сколько различных инкрустаций куба ей придется сделать в худшем случае для открытия ларчика. Для ответа на этот вопрос полезно знать, что два самоцвета одного цвета являются неразличимыми. Помогите Василисе решить эту нелегкую задачу.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке без пробелов записано ровно <span class="tex-span">6</span> символов из множества {<span class="tex-font-style-tt">R</span>, <span class="tex-font-style-tt">O</span>, <span class="tex-font-style-tt">Y</span>, <span class="tex-font-style-tt">G</span>, <span class="tex-font-style-tt">B</span>, <span class="tex-font-style-tt">V</span>} — цвета самоцветов, которыми нужно инкрустировать грани ларчика.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите искомое количество различных инкрустаций.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>YYYYYY<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>BOOOOB<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>ROYGBV<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>30<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Помогите Царю</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p><span class="tex-font-style-it">Это модификация задачи, использованной на официальном раунде. К сожалению, авторское решение к оригинальной формулировке оказалось неверным, поэтому задача была изменена специально для архива.</span></p><p>Жил да был в Тридевятом царстве Царь, и была у него прекрасная дочь Василиса. Жили они не тужили, пока не случилась беда лихая: налетел на Тридевятое царство злобный Змей Горыныч и украл Василису. Закручинился Царь, однако собрал своих храбрых молодцев, и пообещал полцарства и руку дочери тому, кто спасет его дочь от супостата иноземного.</p><p>Долго ли, коротко ли, нашли молодцы логово Змея Горыныча, и завалились в него спасать Василису Прекрасную всей толпой. Каждый из них плюнул в супостата один раз, и, будучи очень нежным и легкоранимым существом, бедный Змей Горыныч умер от разрыва сердца. Храбры же молодцы доставили Василису Прекрасную Царю и передрались из-за того, кому же достанется ее рука.</p><p>Поскольку все храбры молодцы были одинаково храбры и одинаково красивы, а Василиса все равно не хотела выходить замуж ни за кого из них, то Царь, будучи очень мудрым, дабы не обидеть никого, решил определить, кому достанется его дочь, случайным образом — бросанием монетки. Однако оказалось, что добрых молодцев целых <span class="tex-span"><i>n</i></span> человек, а у монетки — только две стороны, но зато каждая выпадает при подбрасывании с равной вероятностью. Царю стало интересно, как можно выбрать одного добра молодца с помощью этой монетки таким образом, чтобы у всех добрых молодцев вероятность быть выбранным совпадала (и равнялась, соответственно, <span class="tex-span">1 / <i>n</i></span>). Перво-наперво Царь хочет узнать матожидание количества раз, которое потребуется бросить монетку, чтобы определить победителя, следуя оптимальной стратегии подбрасывания (то есть такой, которая это матожидание минимизирует). Помогите Царю в его непростой задаче.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке задано одно целое число <span class="tex-span"><i>n</i></span> из условия задачи (<span class="tex-span">1 ≤ <i>n</i> ≤ 10000</span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите искомое матожидание количества подбрасываний в виде несократимой дроби вида «<span class="tex-span"><i>a</i></span><span class="tex-font-style-tt">/</span><span class="tex-span"><i>b</i></span>» (без кавычек) без лидирующих нулей.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1/1<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>8/3<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2/1<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Помогите Гному Грише</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В Тридевятом царстве — Тридесятом государстве живет один очень необычный обитатель — Дварф (а на Руси — просто Гном) Гракула. Однако необычное имя — не главная его странность (тем более, что местные жители с незапамятных времен кличут его Гномом Гришей). Главные странности состоят в том, что живет Гном Гриша уже более 200 лет, причем живет он в склепе на заброшенном кладбище, и днем его еще никто ни разу не видел. Так же точно, как никто не видел, что Гном Гриша покупает себе еду. Поэтому никто особо не удивился, когда после трагической гибели Змея Горыныча с лугов не перестал пропадать скот — местные жители давно были убеждены, что причина пропаж — совсем не безобидный Горыныч, который давно признавался, что склонен к вегетарианству. Но самое плохое во всей этой истории даже не это.</p><p>Самое плохое то, что буквально несколько минут назад Гном Гриша каким-то непостижимым образом оказался у вас дома, и попросил помощи в разрешении одного вопроса. Дело в том, что совсем недавно Гриша решил заказать себе новый гроб (зная его странности, эта новость вас ничуть не удивила). Но вот незадача — в Гришин склеп ведет очень длинный в обоих направлениях Г-образный коридор, через который удастся пронести не любой гроб. Поэтому он и обратился за помощью к вам.</p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/f81e179e45635db94c1427d73eaebd2224f438b0.png" /> </center></p><p>Вы формализовали задачу на плоскости следующим образом: пусть ширина коридора до и после поворота равна соответственно <span class="tex-span"><i>a</i></span> и <span class="tex-span"><i>b</i></span> (см. рисунок), коридор поворачивает строго под прямым углом, гроб суть прямоугольник с длиной и шириной соответственно <span class="tex-span"><i>l</i></span> и <span class="tex-span"><i>w</i></span> (<span class="tex-span"><i>l</i> ≥ <i>w</i></span>). Гном Гриша уже определил длину гроба (<span class="tex-span"><i>l</i></span>), исходя из своего роста, ваша задача — определить максимально возможную ширину гроба (<span class="tex-span"><i>w</i></span>), при которой его можно будет внести в склеп. При этом в силу большой массы (чистый мрамор!) гроб оснащен вращающимися колесиками, поэтому его невозможно оторвать от земли, однако он может совершать произвольные перемещения и вращения в рассматриваемой плоскости. Гроб разрешено развернуть произвольным образом и до внесения в склеп и перемещения по коридору.</p><p>Гриша пообещал, что если вы поможете ему — он наградит вас бессмертием (интересно, как?), а если нет — то лучше вам не знать, что произойдет...</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке через пробел записаны три целых числа <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span> и <span class="tex-span"><i>l</i></span> из условия задачи (<span class="tex-span">1 ≤ <i>a</i>, <i>b</i>, <i>l</i> ≤ 10<sup class="upper-index">4</sup></span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите максимально возможную ширину гроба с абсолютной или относительной погрешностью не более <span class="tex-span">10<sup class="upper-index"> - 7</sup></span>, либо сообщение «<span class="tex-font-style-tt">My poor head =(</span>» (без кавычек), если никакого гроба с заданной длиной и положительной шириной, удовлетворяющего условию задачи, не существует.</p><p>Гарантируется, что в случае наличия положительного ответа он окажется не меньше <span class="tex-span">10<sup class="upper-index"> - 7</sup></span>. Все взломы также будут проверяться на соответствие этому условию.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>2 2 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1.0000000<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>2 2 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2.0000000</pre></div><div class="input"><div class="title">Входные данные</div><pre>2 2 3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1.3284271<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>2 2 6<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>My poor head =(<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом примере ответ к задаче ограничен длиной гроба (вспомните — ширина гроба должна быть не больше его длины).</p><p>Во втором примере гроб возможно пронести через коридор благодаря вращающимся колесикам: сначала двигаем его одной стороной вперед до тех пор, пока гроб не упрется в стену, затем двигаем перпендикулярно первоначальному направлению движения соседней стороной вперед (вспомните — возможны произвольные перемещения и вращения гроба в плоскости).</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Помогите монахам</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Во дворе известного на все Тридевятое царство монастыря Лио Шань давным-давно боги воздвигли три алмазных стержня, возложив на один из них <span class="tex-span"><i>n</i></span> золотых дисков разного диаметра (в порядке уменьшения диаметра снизу вверх), и повелели перенести все диски с первого стержня на третий по следующим правилам:<ul></ul></p><p><li> за один ход разрешается переносить только один диск;</li></p><p><li> нельзя класть больший диск на меньший.</li></p><p> По поводу того, что же произойдет после того, как воля богов будет исполнена, мнения расходились: одни обещали мир во всем мире и вечное счастье всем людям, другие же предрекали скорое пришествие коммуни... (тьфу, о чем это я?) конца света. Однако поскольку все знали, что задачу богов короче, чем за <span class="tex-span">2<sup class="upper-index"><i>n</i></sup> - 1</span> ходов не решить, а ленивые монахи монастыря Лио Шань к ее решению даже не приступали, все жили мирно и счастливо без всякой задачи, и конца света никто особо не опасался.</p><p>Однако дела у монастыря в последнее время шли не очень хорошо, и его мудрому настоятелю Ку Син Сану пришлось обтесать некоторые диски с боков, чтобы использовать золото на благо. В самом деле, нельзя же сидеть настоятелю без кондиционера, да и проводить круглый год в монастыре скучновато — нужно куда-нибудь иногда выбираться, покататься на лыжах, например... Лишь позже Ку Син Сан осознал свою ошибку: после обтесывания диаметры некоторых дисков стали одинаковыми, а значит, некоторые ходы, которые раньше было запрещено осуществлять правилами, теперь стали возможны (в самом деле, класть диск на диск того же диаметра боги не запрещали). Таким образом, возможный конец света мог наступить раньше, чем было задумано богами изначально, и возможно — намного раньше. Настолько раньше, что Ку Син Сан даже не успеет накататься на лыжах и понежиться под кондиционером.</p><p>Последнего мудрый настоятель допустить никак не мог и поэтому обратился за помощью к очень старой и очень мудрой колдунье ПикиВедии — может быть, она поможет определить, за какое минимальное количество ходов решается задача богов. Однако, погадав на картах, колдунья не смогла дать настоятелю ответ на его вопрос. Тогда он и обратился за помощью к вам.</p><p>Сможете ли вы по заданному количеству дисков и их диаметрам найти кратчайшее решение задачи, при условии, что диски одинакового диаметра разрешено класть один на другой, однако порядок дисков на третьем колышке после всех перемещений должен совпадать с первоначальным порядком дисков на первом колышке?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано целое число <span class="tex-span"><i>n</i></span> — количество дисков (<span class="tex-span">1 ≤ <i>n</i> ≤ 20</span>). Во второй строке записаны <span class="tex-span"><i>n</i></span> целых чисел <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub></span> — диаметры дисков после обтесывания их Ку Син Саном, снизу вверх (<span class="tex-span">1 ≤ <i>d</i><sub class="lower-index"><i>i</i></sub> ≤ 20</span>, кроме того, <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub> ≥ <i>d</i><sub class="lower-index"><i>i</i> + 1</sub></span> для любого <span class="tex-span">1 ≤ <i>i</i> &lt; <i>n</i></span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведите число <span class="tex-span"><i>m</i></span> — минимальное количество ходов для решения задачи богов. В следующие <span class="tex-span"><i>m</i></span> строк выведите описания ходов: два натуральных числа <span class="tex-span"><i>s</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> через пробел, задающие, соответственно, номер колышка, с которого переносится диск, и номер колышка, на который переносится диск (<span class="tex-span">1 ≤ <i>s</i><sub class="lower-index"><i>i</i></sub>, <i>t</i><sub class="lower-index"><i>i</i></sub> ≤ 3</span>, <span class="tex-span"><i>s</i><sub class="lower-index"><i>i</i></sub> ≠ <i>t</i><sub class="lower-index"><i>i</i></sub></span>).</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>3<br />3 2 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>7<br />1 3<br />1 2<br />3 2<br />1 3<br />2 1<br />2 3<br />1 3<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>3<br />3 1 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>5<br />1 2<br />1 2<br />1 3<br />2 3<br />2 3<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>3<br />3 3 3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>5<br />1 2<br />1 2<br />1 3<br />2 3<br />2 3<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Обратите внимание на третий тест, демонстрирующий, что в конце порядок дисков должен остаться прежним, даже несмотря на одинаковый радиус дисков. Без выполнения этого условия задачу богов можно было бы решить за меньшее количество ходов — три (просто переместив три диска с первого колышка на третий).</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Помогите Крокодилу Гене</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Крокодил Гена и Чебурашка (как вы, наверное, догадались, тоже обитатели Тридевятого царства, Тридесятого государства) решили сыграть в карточную игру под названием ЕОИгра. Правила очень просты: изначально у Крокодила Гены в руках <span class="tex-span"><i>m</i></span> карт, у Чебурашки — <span class="tex-span"><i>n</i></span> карт (игроки не видят карты друг друга), и еще одна карта лежит на столе рубашкой вверх, так что оба игрока тоже не видят ее. Таким образом, всего в начале игры <span class="tex-span"><i>m</i> + <i>n</i> + 1</span> карта, и игроки знают состав колоды и свои карты (но не знают, какая карта лежит на столе, а какие –– в руках у другого игрока). Игроки ходят по очереди, начинает Крокодил Гена. Своим ходом игрок может:<ul></ul></p><p><li> Попытаться угадать карту, которая лежит на столе. В случае если он угадывает — игра заканчивается, и он считается победителем. Если он не угадывает — игра также заканчивается, но победителем считается его соперник.</li></p><p><li> Назвать любую карту из колоды. В случае если у соперника есть такая карта — он обязан показать ее и вывести из игры. Если же у него нет такой карты — он сообщает об этом.</li></p><p> Недавно Чебурашка стал принимать какие-то желтые таблеточки, и постоянно выигрывать у Крокодила Гены. Теперь Крокодил Гена хочет определить свои шансы на победу в случае, если и он тоже начнет принимать эти таблеточки.</p><p>Помогите Крокодилу Гене в предположении, что таблеточки качественные, и после них оба игрока начинают играть оптимальным образом.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке через пробел записаны целые числа <span class="tex-span"><i>m</i></span> и <span class="tex-span"><i>n</i></span> (<span class="tex-span">0 ≤ <i>m</i>, <i>n</i> ≤ 1000</span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите через пробел вероятности победы Крокодила Гены и Чебурашки соответственно, с абсолютной погрешностью не более <span class="tex-span">10<sup class="upper-index"> - 9</sup></span>.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>0 3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0.25 0.75<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>1 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1 0<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>1 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0.5 0.5<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>

    <br style="clear:both;"/>

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2013 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>
</body>
</html>                                       
