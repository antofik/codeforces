
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="0dd4202e613162a0def0326ggc29626f"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://worker.codeforces.ru/static/images/codeforces-vk-square-ru.png"/>
    <meta property="og:title" content="Задачи - Codeforces"/>
    <meta property="og:site_name" content="Codeforces"/>
    
    <meta name="cc" content="1k37mdvwujevz"/>
    
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов" />
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup" />
    <meta name="robots" content="index, follow" />

    <link href="http://worker.codeforces.ru/static/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--CombineResourcesFilter-->
    
<LINK href="http://worker.codeforces.ru/static/favicon.png" rel="shortcut icon" type="image/png">
    
<LINK href="http://worker.codeforces.ru/static/css/prettify.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/clear.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/style.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/ttypography.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/problem-statement.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/second-level-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/roundbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/datatable.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/topic.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/table-form.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.jgrowl.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/facebox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.wysiwyg.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/codeforces.datepick.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/colorbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.drafts.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/skins/markitup/style.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/sets/markdown/style.css" rel="stylesheet" type="text/css">

    
<SCRIPT charset="utf-8" src="//yandex.st/share/share.js" type="text/javascript"></SCRIPT>
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/sidebar-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/community.css" rel="stylesheet" type="text/css">

    <!--[if IE]>
        <style>
            #sidebar {
                padding-left: 1em;
                margin: 1em 1em 1em 0;
            }
        </style>
    <![endif]-->
    
    
<SCRIPT src="http://worker.codeforces.ru/static/js/prettify/prettify.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery-1.8.3.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/sockjs-0.2.1.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/vertxbus-1.2.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.easing.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.lavalamp.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.jgrowl.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/facebox.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.wysiwyg.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.colorpicker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.table.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.image.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.link.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.autocomplete.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.datepick.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ie6blocker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.colorbox-min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ba-bbq.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.drafts.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/codeforces.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/jquery.markitup.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/sets/markdown/set.js" type="text/javascript"></SCRIPT>
    <!--/CombineResourcesFilter-->
</HEAD>
</HTML>

        <script type="text/javascript" src="http://worker.codeforces.ru/static/js/jquery.datepick-ru.js"></script>
        <script src="http://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body><span style='display:none;' class='csrf-token' data-csrf='0dd4202e613162a0def0326ggc29626f'>&nbsp;</span>
<!-- Codeforces javascripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function() {
    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="/"><img src="http://worker.codeforces.ru/static/images/codeforces-logo-with-upper-beta.png"/></a>
                        <div style="position:absolute;left:97px;top:40px;">
                            <a href="http://vk.com" class="logo-href">При поддержке <img
                                    style="position:relative;top:5px;" src="http://worker.codeforces.ru/static/images/vkontakte-tiny-ru.png"/></a>
                        </div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="http://worker.codeforces.ru/static/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="http://worker.codeforces.ru/static/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;"
         class="caption">Codeforces Round #133 (Div. 2)</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Замощение шестиугольниками</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Несколько веков назад Берляндия была королевством. Король Берляндии очень любил математику. Именно поэтому, впервые посетив один из своих многочисленных дворцов, он обратил внимание на пол одного из залов, замощенный шестиугольными плитками.</p><p>Как оказалось, зал тоже имеет форму шестиугольника. Король обошел зал по периметру и установил, что к каждой из шести сторон прилегают <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span>, <span class="tex-span"><i>c</i></span>, <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span> и <span class="tex-span"><i>c</i></span> плиток соответственно.</p><p>Чтобы лучше понять происходящее, взгляните на картинку, на которой изображен подобный шестиугольник для <span class="tex-span"><i>a</i> = 2</span>, <span class="tex-span"><i>b</i> = 3</span> и <span class="tex-span"><i>c</i> = 4</span>.</p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/1298c4ab167f24cf56b1dc9bd301622c18b6803b.png" /> </center></p><p>По легенде, получив <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span> и <span class="tex-span"><i>c</i></span>, король Берляндии почти мгновенно вычислил общее количество плиток на полу зала. А вы так сможете?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано три целых числа <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span> и <span class="tex-span"><i>c</i></span> (<span class="tex-span">2 ≤ <i>a</i>, <i>b</i>, <i>c</i> ≤ 1000</span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное число — общее количество плиток на полу зала.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>2 3 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>18</pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Формирование команд</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>На стадион пришли <span class="tex-span"><i>n</i></span> студентов. Они хотят сыграть в футбол, а для этого нужно разделиться на две команды с одинаковым количеством человек в каждой.</p><p>Известно, что в собравшейся компании имеются заклятые враги. У каждого студента имеется не более двух заклятых врагов. Причем, если студент <span class="tex-span"><i>A</i></span> заклятый враг студента <span class="tex-span"><i>B</i></span>, то студент <span class="tex-span"><i>B</i></span> заклятый враг студента <span class="tex-span"><i>A</i></span>.</p><p>Студенты хотят разделиться так, чтобы никакие два заклятых врага не оказались в одной команде. В случае, если нужным способом разделиться нельзя, некоторым студентам придется посидеть на скамейке запасных.</p><p>Определите какое наименьшее количество студентов придется отправить на скамейку запасных, чтобы можно было сформировать две команды описанным способом и матч наконец-то начался.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записаны два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 100</span>, <span class="tex-span">1 ≤ <i>m</i> ≤ 100</span>) — количество студентов и количество пар заклятых врагов соответственно.</p><p>В следующих <span class="tex-span"><i>m</i></span> строках описаны отношения вражды между студентами. Каждое отношение вражды описывается двумя числами <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub>, <i>b</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>, <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub> ≠ <i>b</i><sub class="lower-index"><i>i</i></sub></span>) — номера враждующих студентов. Каждое из отношений вражды приведено в списке ровно один раз. Гарантируется, что у каждого студента не более двух заклятых врагов.</p><p>Можете считать, что студенты некоторым образом пронумерованы различными целыми числами от 1 до <span class="tex-span"><i>n</i></span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное целое число — наименьшее количество студентов, которое нужно отправить на скамейку запасных, чтобы начать матч.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5 4<br />1 2<br />2 4<br />5 3<br />1 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1</pre></div><div class="input"><div class="title">Входные данные</div><pre>6 2<br />1 4<br />3 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0</pre></div><div class="input"><div class="title">Входные данные</div><pre>6 6<br />1 2<br />2 3<br />3 1<br />4 5<br />5 6<br />6 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2</pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Набор персонала</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Новоиспеченный берляндский бизнесмен Виталий собирается открыть свой магазин бытовой техники. Дело осталось за малым — нужно набрать персонал.</p><p>Магазин будет работать без выходных, хотя и не круглосуточно. Каждый день в магазине должны работать не менее <span class="tex-span"><i>k</i></span> сотрудников.</p><p>В Берляндии принят закон, который определяет порядок рабочих и выходных дней. А именно: каждый сотрудник должен выходить на работу ровно <span class="tex-span"><i>n</i></span> дней подряд, после чего ровно <span class="tex-span"><i>m</i></span> дней отдыхать; затем опять работать <span class="tex-span"><i>n</i></span> дней и <span class="tex-span"><i>m</i></span> дней отдыхать, и так далее. Виталий не хочет нарушать закон. К счастью, здесь имеется лазейка: закон вступает в силу в тот день, когда сотрудник был нанят. Например, если сотрудник был нанят в день <span class="tex-span"><i>x</i></span>, то он должен работать в дни <span class="tex-span">[<i>x</i>, <i>x</i> + 1, ..., <i>x</i> + <i>n</i> - 1]</span>, <span class="tex-span">[<i>x</i> + <i>m</i> + <i>n</i>, <i>x</i> + <i>m</i> + <i>n</i> + 1, ..., <i>x</i> + <i>m</i> + 2<i>n</i> - 1]</span> и так далее. Причем день <span class="tex-span"><i>x</i></span> Виталий может выбирать произвольно.</p><p>Есть еще одна деталь: ключ от магазина. Берляндский закон запрещает делать копии ключей, поэтому ключ только один. Виталий планирует доверить ключ сотрудникам магазина. При этом в каждый из дней ключ обязательно должен быть у сотрудника, у которого сегодня рабочий день — иначе в этот день просто никто не сможет попасть внутрь магазина. В течение дня владелец ключа может передать этот ключ другому сотруднику, если у него сегодня тоже рабочий день. Виталий сам передаст ключ самому первому нанятому сотруднику в его первый рабочий день.</p><p>Каждому из сотрудников нужно платить зарплату. Поэтому Виталий хочет нанять как можно меньше сотрудников так, чтобы магазин мог нормально функционировать в каждый из дней от <span class="tex-span">1</span> до бесконечности. Другими словами в каждый день с номером от <span class="tex-span">1</span> до бесконечности, в магазине должно работать не менее <span class="tex-span"><i>k</i></span> сотрудников, при этом обязательно у одного из работающих сотрудников должен быть ключ от магазина.</p><p>Помогите Виталию — определите наименьшее необходимое количество сотрудников, а так же дни, в которые их следует нанять.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записаны три целых числа <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>m</i></span> и <span class="tex-span"><i>k</i></span> (<span class="tex-span">1 ≤ <i>m</i> ≤ <i>n</i> ≤ 1000</span>, <span class="tex-span"><i>n</i> ≠ 1</span>, <span class="tex-span">1 ≤ <i>k</i> ≤ 1000</span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведите единственное целое число <span class="tex-span"><i>z</i></span> — наименьшее необходимое количество сотрудников.</p><p>Во второй строке выведите <span class="tex-span"><i>z</i></span> целых положительных чисел, разделяя их пробелами: <span class="tex-span"><i>i</i></span>-ое из этих чисел <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">4</sup></span>) должно обозначать номер дня, в который следует нанять <span class="tex-span"><i>i</i></span>-ого сотрудника.</p><p>Если существует несколько ответов — выведите любой.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>4 3 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>4<br />1 1 4 5</pre></div><div class="input"><div class="title">Входные данные</div><pre>3 3 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br />1 3 5</pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Паутина</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Паучок По плетет паутину. Плести паутину целое искусство, По учится этому всю жизнь. Давайте рассмотрим структуру паутины.</p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/825404b753b9573631dc58c3e25a1f08a960b390.png" /> </center></p><p>Из центра паутины исходят <span class="tex-span"><i>n</i></span> <span class="tex-font-style-it">основных</span> нитей. Все основные нити находятся в одной плоскости и делят ее на <span class="tex-span"><i>n</i></span> равных бесконечных <span class="tex-font-style-it">секторов</span>. Секторы нумеруются целыми числами от <span class="tex-span">1</span> до <span class="tex-span"><i>n</i></span> по часовой стрелке. Секторы <span class="tex-span"><i>i</i></span> и <span class="tex-span"><i>i</i> + 1</span> считаются <span class="tex-font-style-it">соседними</span> для любого <span class="tex-span"><i>i</i></span>, <span class="tex-span">1 ≤ <i>i</i> &lt; <i>n</i></span>. Кроме того, соседними считаются секторы <span class="tex-span">1</span> и <span class="tex-span"><i>n</i></span>.</p><p>В некоторых секторах имеются <span class="tex-font-style-it">нити-перемычки</span>. Каждая перемычка соединяет две основные нити, образующие данный сектор. Точки, в которых перемычка крепится к основным нитям, будем называть <span class="tex-font-style-it">точками крепления</span>. Обе точки крепления перемычки находятся на одинаковом расстоянии от центра паутины. В каждой точке крепления крепится ровно одна перемычка. Перемычки считаются <span class="tex-font-style-it">соседними</span>, если они находятся в одном секторе и между ними нет других перемычек.</p><p><span class="tex-font-style-it">Ячейкой</span> паутины называется трапеция, которая находится в каком-либо из секторов и ограничена двумя основными линиями и двумя соседними перемычками. Можно заметить, что на боковых сторонах ячейки могут быть точки крепления перемычек из соседних секторов. Если количество точек крепления на одной боковой стороне ячейки не равно количеству точек крепления на другой боковой стороне, то это вносит дисбаланс сил натяжения на данную ячейку и со временем может разрушить всю паутину. Назовем такую ячейку <span class="tex-font-style-it">нестабильной</span>. Идеальная паутина не содержит в себе нестабильных ячеек.</p><p>На картинке нестабильные ячейки отмечены красным цветом. Стабильные ячейки отмечены зеленым цветом.</p><p>Паучок По еще не мастер, он только учится плести идеальные паутины. Помогите По определить количество нестабильных ячеек в паутине, которую он только что сплел.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">3 ≤ <i>n</i> ≤ 1000</span>) — количество основных нитей.</p><p>В <span class="tex-span"><i>i</i></span>-ой из следующих <span class="tex-span"><i>n</i></span> строк описываются перемычки, расположенные в <span class="tex-span"><i>i</i></span>-ом секторе: сперва записано целое число <span class="tex-span"><i>k</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>k</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">5</sup></span>) равное количеству перемычек в данном секторе, далее идут <span class="tex-span"><i>k</i><sub class="lower-index"><i>i</i></sub></span> различных целых чисел <span class="tex-span"><i>p</i><sub class="lower-index"><i>ij</i></sub></span> (<span class="tex-span">1 ≤ <i>p</i><sub class="lower-index"><i>ij</i></sub> ≤ 10<sup class="upper-index">5</sup>; 1 ≤ <i>j</i> ≤ <i>k</i><sub class="lower-index"><i>i</i></sub></span>). Число <span class="tex-span"><i>p</i><sub class="lower-index"><i>ij</i></sub></span> равно расстоянию от точек крепления <span class="tex-span"><i>j</i></span>-ой перемычки <span class="tex-span"><i>i</i></span>-го сектора до центра паутины.</p><p>Гарантируется, что любые две перемычки из соседних секторов крепятся на различном расстоянии от центра паутины. Гарантируется, что общее число перемычек не превосходит <span class="tex-span">10<sup class="upper-index">5</sup></span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное целое число — количество нестабильных ячеек в паутине паучка По.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>7<br />3 1 6 7<br />4 3 5 2 9<br />2 8 1<br />4 3 7 6 4<br />3 2 5 9<br />3 6 3 8<br />3 4 2 9<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>6</pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Счастье для марсиан</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Как известно, марсиане пользуются системой счисления с основанием <span class="tex-span"><i>k</i></span>. Цифра <span class="tex-span"><i>b</i></span> (<span class="tex-span">0 ≤ <i>b</i> &lt; <i>k</i></span>) считается <span class="tex-font-style-it">счастливой</span>, поскольку именно в <span class="tex-span"><i>b</i></span>-ом году (по марсианскому летоисчислению) произошел первый контакт марсиан с землянами.</p><p><span class="tex-font-style-it">Цифровым корнем</span> <span class="tex-span"><i>d</i>(<i>x</i>)</span> числа <span class="tex-span"><i>x</i></span> называется число, состоящее из одной цифры, которое получается после каскадного сложения всех цифр числа <span class="tex-span"><i>x</i></span>. Слово «каскадный» означает, что если после первого сложения получилось число из нескольких цифр, то все цифры складываются вновь, и так далее, пока не получится число из одной цифры.</p><p>Например, <span class="tex-span"><i>d</i>(3504<sub class="lower-index">7</sub>) = <i>d</i>((3 + 5 + 0 + 4)<sub class="lower-index">7</sub>) = <i>d</i>(15<sub class="lower-index">7</sub>) = <i>d</i>((1 + 5)<sub class="lower-index">7</sub>) = <i>d</i>(6<sub class="lower-index">7</sub>) = 6<sub class="lower-index">7</sub></span>. В данном примере вычисления производятся в системе счисления с основанием 7.</p><p>Число, цифровой корень которого равен <span class="tex-span"><i>b</i></span>, марсиане также называют счастливым.</p><p>Имеется строка <span class="tex-span"><i>s</i></span>, состоящая из <span class="tex-span"><i>n</i></span> цифр в <span class="tex-span"><i>k</i></span>-ичной системе счисления. Требуется найти количество различных подстрок данной строки, которые являются счастливыми числами. Лидирующие нули в числах разрешаются.</p><p>Напомним, что подстрокой <span class="tex-span"><i>s</i>[<i>i</i>... <i>j</i>]</span> строки <span class="tex-span"><i>s</i> = <i>a</i><sub class="lower-index">1</sub><i>a</i><sub class="lower-index">2</sub>... <i>a</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>i</i> ≤ <i>j</i> ≤ <i>n</i></span>) является строка <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub><i>a</i><sub class="lower-index"><i>i</i> + 1</sub>... <i>a</i><sub class="lower-index"><i>j</i></sub></span>. Две подстроки <span class="tex-span"><i>s</i>[<i>i</i><sub class="lower-index">1</sub>... <i>j</i><sub class="lower-index">1</sub>]</span> и <span class="tex-span"><i>s</i>[<i>i</i><sub class="lower-index">2</sub>... <i>j</i><sub class="lower-index">2</sub>]</span> строки <span class="tex-span"><i>s</i></span> считаются различными, если либо <span class="tex-span"><i>i</i><sub class="lower-index">1</sub> ≠ <i>i</i><sub class="lower-index">2</sub></span>, либо <span class="tex-span"><i>j</i><sub class="lower-index">1</sub> ≠ <i>j</i><sub class="lower-index">2</sub></span>.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записаны три целых числа <span class="tex-span"><i>k</i></span>, <span class="tex-span"><i>b</i></span> и <span class="tex-span"><i>n</i></span> (<span class="tex-span">2 ≤ <i>k</i> ≤ 10<sup class="upper-index">9</sup></span>, <span class="tex-span">0 ≤ <i>b</i> &lt; <i>k</i></span>, <span class="tex-span">1 ≤ <i>n</i> ≤ 10<sup class="upper-index">5</sup></span>).</p><p>Во второй строке записана строка <span class="tex-span"><i>s</i></span> в виде последовательности из <span class="tex-span"><i>n</i></span> целых чисел, обозначающих цифры в <span class="tex-span"><i>k</i></span>-ичной системе счисления: <span class="tex-span"><i>i</i></span>-ое из этих чисел равно <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">0 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> &lt; <i>k</i></span>) — <span class="tex-span"><i>i</i></span>-ая цифра строки <span class="tex-span"><i>s</i></span>. Числа в строках разделяются пробелами.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите единственное целое число — количество подстрок, которые являются счастливыми числами.</p><p>Пожалуйста, не используйте спецификатор %lld для чтения или записи 64-битных чисел на С++. Рекомендуется использовать потоки cin, cout или спецификатор %I64d.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>10 5 6<br />3 2 0 5 6 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>5</pre></div><div class="input"><div class="title">Входные данные</div><pre>7 6 4<br />3 5 0 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1</pre></div><div class="input"><div class="title">Входные данные</div><pre>257 0 3<br />0 0 256<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3</pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом примере искомый цифровой корень имеют подстроки <span class="tex-span"><i>s</i>[1... 2]</span> = «3 2», <span class="tex-span"><i>s</i>[1... 3]</span> = «3 2 0», <span class="tex-span"><i>s</i>[3... 4]</span> = «0 5», <span class="tex-span"><i>s</i>[4... 4]</span> = «5» и <span class="tex-span"><i>s</i>[2... 6]</span> = «2 0 5 6 1».</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>

    <br style="clear:both;"/>

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2013 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>
</body>
</html>                                       
