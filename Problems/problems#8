
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="229f02b6bhb1a28839b43f156ee973ee"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://worker.codeforces.ru/static/images/codeforces-vk-square-ru.png"/>
    <meta property="og:title" content="Задачи - Codeforces"/>
    <meta property="og:site_name" content="Codeforces"/>
    
    <meta name="cc" content="tc6rv0su8c5e"/>
    
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов" />
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup" />
    <meta name="robots" content="index, follow" />

    <link href="http://worker.codeforces.ru/static/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--CombineResourcesFilter-->
    
<LINK href="http://worker.codeforces.ru/static/favicon.png" rel="shortcut icon" type="image/png">
    
<LINK href="http://worker.codeforces.ru/static/css/prettify.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/clear.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/style.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/ttypography.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/problem-statement.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/second-level-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/roundbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/datatable.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/topic.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/table-form.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.jgrowl.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/facebox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.wysiwyg.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/codeforces.datepick.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/colorbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.drafts.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/skins/markitup/style.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/sets/markdown/style.css" rel="stylesheet" type="text/css">

    
<SCRIPT charset="utf-8" src="//yandex.st/share/share.js" type="text/javascript"></SCRIPT>
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/sidebar-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/community.css" rel="stylesheet" type="text/css">

    <!--[if IE]>
        <style>
            #sidebar {
                padding-left: 1em;
                margin: 1em 1em 1em 0;
            }
        </style>
    <![endif]-->
    
    
<SCRIPT src="http://worker.codeforces.ru/static/js/prettify/prettify.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery-1.8.3.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/sockjs-0.2.1.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/vertxbus-1.2.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.easing.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.lavalamp.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.jgrowl.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/facebox.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.wysiwyg.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.colorpicker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.table.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.image.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.link.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.autocomplete.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.datepick.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ie6blocker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.colorbox-min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ba-bbq.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.drafts.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/codeforces.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/jquery.markitup.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/sets/markdown/set.js" type="text/javascript"></SCRIPT>
    <!--/CombineResourcesFilter-->
</HEAD>
</HTML>

        <script type="text/javascript" src="http://worker.codeforces.ru/static/js/jquery.datepick-ru.js"></script>
        <script src="http://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body><span style='display:none;' class='csrf-token' data-csrf='229f02b6bhb1a28839b43f156ee973ee'>&nbsp;</span>
<!-- Codeforces javascripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function() {
    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="/"><img src="http://worker.codeforces.ru/static/images/codeforces-logo-with-upper-beta.png"/></a>
                        <div style="position:absolute;left:97px;top:40px;">
                            <a href="http://vk.com" class="logo-href">При поддержке <img
                                    style="position:relative;top:5px;" src="http://worker.codeforces.ru/static/images/vkontakte-tiny-ru.png"/></a>
                        </div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="http://worker.codeforces.ru/static/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="http://worker.codeforces.ru/static/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;"
         class="caption">Codeforces Beta Round #8</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Поезд и Петя</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 second</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>64 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Пете очень интересно ездить в поездах. Так интересно, что он засыпает.</p><p>Однажды летом мальчик Петя ехал на поезде из города А в город Б и, как обычно, спал. Потом он проснулся, начал смотреть в окно и заметил, что на каждой станции есть флаг определенного цвета.</p><p>Мальчик начал запоминать последовательность цветов флагов, которые он видел. Однако вскоре он опять уснул. К сожалению, его покой длился не долго и он вновь проснулся и продолжил запоминать цвета. Потом он уснул, и в этот раз сон длился до конца поездки.</p><p>Уже на вокзале он рассказал родителям о своем занятии и выписал две последовательности цветов, которые увидел в первый и второй период бодрствования, соответственно.</p><p>Родители знают, что Петя любит фантазировать. Они предоставили вам список цветов флагов станций, которые последовательно посещает поезд по пути из А в Б, и попросили узнать, мог ли Петя увидеть эти последовательности на пути из А в Б, или из Б в А. Помните, что у Пети было ровно два периода бодрствования.</p><p>Цвета родители обозначили строчными латинскими буквами. Одинаковые буквы обозначают одинаковые цвета, а разные буквы — разные цвета.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>Входные данные состоят из трех строк. Первая содержит непустую строку длины не более <span class="tex-span">10<sup class="upper-index">5</sup></span>, состоящую из строчных латинских букв, — цвета флагов на промежуточных станциях по пути из А в Б. По пути из Б в А, поезд посещает эти же станции, но в обратном порядке.</p><p>Вторая строка содержит последовательность, выписанную Петей в первый период бодрствования. Третья строка содержит выписанную во второй период бодрствования последовательность. Обе последовательности непустые, состоят из строчных латинских букв и не превышают по длине 100 букв каждая. Каждая из последовательностей записана в хронологическом порядке.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведити одно из четырех слов без кавычек: <ul> <li> «<span class="tex-font-style-tt">forward</span>» — если Петя мог увидеть такие последовательности только на пути из А в Б; </li><li> «<span class="tex-font-style-tt">backward</span>» — если Петя мог увидеть такие последовательности только на пути из Б в А; </li><li> «<span class="tex-font-style-tt">both</span>» — если Петя мог увидеть такие последовательности как на пути из А в Б, так и на пути из Б в А; </li><li> «<span class="tex-font-style-tt">fantasy</span>» — если Петя не мог увидеть такие последовательности. </li></ul></p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>atob<br />a<br />b<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>forward<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>aaacaaa<br />aca<br />aa<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>both<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Считается, что поезд все время движется, так что один и тот же флаг невозможно увидеть два раза. На станциях А и Б флагов нет.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Роботомания</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>64 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Весь мир охватила роботомания и, чтобы не отставать от прогресса, великий берляндский программист Дравдэ решил создать собственного робота. Дравдэ долго и упорно трудился над роботом. Он научил его ходить кратчайшим путем из одной точки в другую, научил записывать все свои передвижения, но, как и во многих программах Дравдэ, нашелся баг — робот не всегда ходил кратчайшими путями. Благо, что собственные передвижения робот записывал правильно. Теперь Дравдэ хочет узнать, когда его робот неправильно работает. Эх, если бы Дравдэ помнил карту местности, на которой происходило тестирование робота, он бы легко сказал правильно прошел робот или нет. Но карта местности безвозвратно потерялась, и поэтому он поручает вам проверить: существует ли хотя бы одна такая карта, на которой путь записанный роботом является кратчайшим.</p><p>Карта представляет собой бесконечное клетчатое поле, где каждая клетка либо пустая, либо содержит препятствие. Также известно, что робот никогда не пытается врезаться в препятствие. По записи робота о его передвижении определите, существует ли хотя бы одна такая карта, что на ней можно выбрать стартовую клетку для робота (стартовая клетка должна быть пустой), при движении из которой запись корректна (робот ни во что не врезается, двигаясь только по пустым клеткам), и путь из стартовой точки в конечную является кратчайшим.</p><p>За один ход робот может передвинуться на любую соседнюю по стороне клетку, если она не является препятствием.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке входного файла содержится запись ходов робота. Запись ходов — это непустая строка, состоящая из прописных латинских букв <span class="tex-font-style-tt">L</span>, <span class="tex-font-style-tt">R</span>, <span class="tex-font-style-tt">U</span> и <span class="tex-font-style-tt">D</span>, обозначающих соответственно передвижение влево, вправо, вверх и вниз. Длина строки не превосходит <span class="tex-font-style-tt">100</span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выходной файл должен содержать в первой строке единственное слово <span class="tex-font-style-tt">OK</span> (если существует описанная карта) или <span class="tex-font-style-tt">BUG</span> (если не существует такой карты).</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>LLUUUR<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>OK<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>RRUULLDD<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>BUG<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Нахождение порядка</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>7.5 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>512 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Девочка Лена очень любит порядок и пытается везде его искать. Как-то раз она собиралась в университет и заметила, что в комнате ужасный беспорядок — все вещи из ее сумочки разбросаны по комнате. Конечно же, она захотела их собрать в сумочку. Беда только в том, что девочка не может нести более двух вещей одновременно и не может переносить сумочку. Также если она взяла вещь, то положить ее куда-нибудь кроме сумочки она не может — ей мешает врожденное чувство идеального порядка.</p><p>Вам заданы координаты сумочки и координаты вещей в некоторой декартовой системе координат. Известно, что девочка проходит путь между двумя объектами за время равное квадрату длины отрезка соединяющего точки, в которых находятся объекты. Также известно, что изначально координаты девочки и сумочки совпадают. Требуется найти такой порядок действий, при котором девочка соберет все вещи в сумочку за минимальное время.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке входного файла заданы координаты сумочки <span class="tex-span"><i>x</i><sub class="lower-index"><i>s</i></sub>, <i>y</i><sub class="lower-index"><i>s</i></sub></span>. Во второй строке задано число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 24</span>) — количество вещей у девочки. В следующих <span class="tex-span"><i>n</i></span> строках заданы координаты вещей девочки. Все координаты не превосходят по модулю 100. Координаты всех заданных во входных данных объектов различны. Все заданные числа — целые.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первую строку выведите единственное число минимальное время, требуемое девочке чтобы собрать все вещи.</p><p>Во вторую строку выведите возможный оптимальный путь Лены. Каждая вещь обозначается своим порядковым номером при задании во входных данных (от 1 до <span class="tex-span"><i>n</i></span>), а позиция сумочки обозначается числом 0. Путь должен начинаться и заканчиваться в позиции сумочки. Если решений несколько, выведите любое из них.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>0 0<br />2<br />1 1<br />-1 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>8<br />0 1 2 0 <br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>1 1<br />3<br />4 3<br />3 4<br />0 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>32<br />0 1 2 0 3 0 <br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Два товарища</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 second</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>64 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Два соседа Петя и Вася, живут в городе, в котором всего три здания: кинотеатр, магазин и дом, в котором они живут. Остальное пространство — большая заасфальтированная площадь.</p><p>Как-то раз они пошли в кино, и фильм их впечатлил так, что когда они вышли из кинотеатра, им хотелось обсуждать и обсуждать его. </p><p>Вася хочет попасть домой, а Петя сначала должен зайти в магазин, а потом прийти домой. Так что они решили, что пройдут какой-то путь вместе обсуждая кино (может быть, этот путь пройдет через магазин, а, возможно, это будет пара кругов вокруг кинотеатра) и дальше пойдут по своим делам. Как только они разойдутся, то задумаются о своих повседневных делах и даже если встретятся снова где-то, то не смогут продолжить обсуждение. Таким образом путь Васи это будет какая-то непрерывная кривая, имеющая своими концами кинотеатр и дом. Путь Пети — проходящая через магазин непрерывная кривая, имеющая своими концами кинотеатр и дом.</p><p>Фильм закончился поздно, так что весь пройденный Петей путь не должен отличаться от кратчайшего больше, чем на <span class="tex-span"><i>t</i><sub class="lower-index">1</sub></span>, а путь Васи не должен отличаться от кратчайшего больше чем на <span class="tex-span"><i>t</i><sub class="lower-index">2</sub></span>.</p><p>Найдите максимальное расстояние, которое Петя и Вася пройдут вместе, обсуждая кино.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке содержатся два целых числа: <span class="tex-span"><i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub></span> (<span class="tex-span">0 ≤ <i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub> ≤ 100</span>). Во второй строке содержатся координаты кинотеатра, в третьей — их дома и в последней — магазина. Все координаты даны в метрах, целые и не превосходят 100 по абсолютному значению. Никакие два заданных объекта не совпадают.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В единственной строке выведите одно число — максимальное расстояние, которое Петя и Вася пройдут вместе, обсуждая кино. Ответ выводите с точностью не менее 4 знаков после десятичной точки.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>0 2<br />0 0<br />4 0<br />-3 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1.0000000000<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>0 0<br />0 0<br />2 0<br />1 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2.0000000000<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Бусы</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>5 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>64 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Один марсианский мальчик по имени Цорг хочет подарить своей подруге с Земли Маше бусы. Он знает, что Маша любит два цвета: синий и красный, — и как раз в магазине, куда он зашел, есть все возможные украшения с бусинами двух цветов. На каждых бусах есть маленькая застежка, если ее расстегнуть, то можно заметить, что все бусы в магазине одинаковой длины. Из-за особенностей марсианского зрения если Цорг видит одни сине-красные бусы, а потом другие, в которых на месте синих стоят красные бусины, а на месте красных — синие, он считает эти две нитки бус одинаковыми. Иными словами, для Цорга одинаковыми считаются не только те бусы, что получаются друг из друга переворотом нитки, но и те, что получаются друг из друга сменой цветов и/или переворотом ниток.</p><p>Как известно все марсиане очень аккуратны, и если марсианин видит некоторое множество предметов, то он старается упорядочить их. Красную бусину Цорг считает меньше синей. Обозначим красную бусину — 0, а синюю — 1. Из двух ниток марсианин раньше положит ту, у которой на <span class="tex-span"><i>i</i></span>-ом месте нанизана красная бусина, при том, что во второй нитке на <span class="tex-span"><i>i</i></span>-ом месте — синяя, а первые <span class="tex-span"><i>i</i> - 1</span> бусины у них совпадают.</p><p>Сначала Цорг расстегивает все бусы и раскладывает на кучки так, что, по его мнению, в каждой из них лежат одинаковые нитки. Потом он упорядочивает каждую кучку и выбирает по одним бусам, являющимся наименьшими в данной кучке. Все остальные бусы он отдает продавцу и просит их убрать. Затем Цорг упорядочивает все оставшиеся бусы и покупает <span class="tex-span"><i>k</i></span>-ые по номеру.</p><p>Все эти операции займут очень много времени у Цорга, поэтому он просит вас помочь найти бусы для Маши.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>Во входном файле записано два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>k</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 50;1 ≤ <i>k</i> ≤ 10<sup class="upper-index">16</sup></span>) — длина бус и номер выбранной Цоргом нитки бус.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В выходной файл выведите <span class="tex-span"><i>k</i></span>-ые бусы, обозначая красную бусину — 0, а синюю — 1. Если искомую нитку бус выбрать невозможно, то выведите единственное число <span class="tex-font-style-tt">-1</span>.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>4 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0101<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Рассмотрим все бусы длины 4 — 0001, 0010, 0011, 0100, 0101, 0110, 0111, 1000, 1001, 1010, 1011, 1100, 1101, 1110. Цорг разобьет их на кучки: {0001, 0111, 1000, 1110}, {0010, 0100, 1011, 1101}, {0011, 1100}, {0101, 1010}, {0110, 1001}. Потом он оставляет по меньшей нитке бус из каждой кучки: 0001, 0010, 0011, 0101, 0110. Четвертая нитка — 0101.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>

    <br style="clear:both;"/>

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2013 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>
</body>
</html>                                       
