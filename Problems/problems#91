
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="3a82cb247h8g0b8f1g7ec59f76g854b2"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://worker.codeforces.ru/static/images/codeforces-vk-square-ru.png"/>
    <meta property="og:title" content="Задачи - Codeforces"/>
    <meta property="og:site_name" content="Codeforces"/>
    
    <meta name="cc" content="589aum06vvk3"/>
    
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов" />
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup" />
    <meta name="robots" content="index, follow" />

    <link href="http://worker.codeforces.ru/static/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--CombineResourcesFilter-->
    
<LINK href="http://worker.codeforces.ru/static/favicon.png" rel="shortcut icon" type="image/png">
    
<LINK href="http://worker.codeforces.ru/static/css/prettify.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/clear.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/style.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/ttypography.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/problem-statement.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/second-level-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/roundbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/datatable.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/topic.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/table-form.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.jgrowl.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/facebox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.wysiwyg.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/codeforces.datepick.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/colorbox.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/jquery.drafts.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/skins/markitup/style.css" rel="stylesheet" type="text/css">
    
<LINK href="http://worker.codeforces.ru/static/markitup/sets/markdown/style.css" rel="stylesheet" type="text/css">

    
<SCRIPT charset="utf-8" src="//yandex.st/share/share.js" type="text/javascript"></SCRIPT>
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/sidebar-menu.css" rel="stylesheet" type="text/css">
    
<LINK charset="utf-8" href="http://worker.codeforces.ru/static/css/community.css" rel="stylesheet" type="text/css">

    <!--[if IE]>
        <style>
            #sidebar {
                padding-left: 1em;
                margin: 1em 1em 1em 0;
            }
        </style>
    <![endif]-->
    
    
<SCRIPT src="http://worker.codeforces.ru/static/js/prettify/prettify.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery-1.8.3.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/sockjs-0.2.1.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/vertxbus-1.2.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.easing.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.lavalamp.min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.jgrowl.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/facebox.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.wysiwyg.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.colorpicker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.table.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.image.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/controls/wysiwyg.link.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.autocomplete.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.datepick.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ie6blocker.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.colorbox-min.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.ba-bbq.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/jquery.drafts.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/js/codeforces.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/jquery.markitup.js" type="text/javascript"></SCRIPT>
    <SCRIPT src="http://worker.codeforces.ru/static/markitup/sets/markdown/set.js" type="text/javascript"></SCRIPT>
    <!--/CombineResourcesFilter-->
</HEAD>
</HTML>

        <script type="text/javascript" src="http://worker.codeforces.ru/static/js/jquery.datepick-ru.js"></script>
        <script src="http://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body><span style='display:none;' class='csrf-token' data-csrf='3a82cb247h8g0b8f1g7ec59f76g854b2'>&nbsp;</span>
<!-- Codeforces javascripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function() {
    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="/"><img src="http://worker.codeforces.ru/static/images/codeforces-logo-with-upper-beta.png"/></a>
                        <div style="position:absolute;left:97px;top:40px;">
                            <a href="http://vk.com" class="logo-href">При поддержке <img
                                    style="position:relative;top:5px;" src="http://worker.codeforces.ru/static/images/vkontakte-tiny-ru.png"/></a>
                        </div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="http://worker.codeforces.ru/static/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="http://worker.codeforces.ru/static/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;"
         class="caption">Codeforces Beta Round #75 (Div. 1 Only)</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Газетный заголовок</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В Моржландии выпускается газета с названием <span class="tex-span"><i>s</i><sub class="lower-index">1</sub></span>, состоящем из строчных букв латинского алфавита. Маленький морж Клычок хочет купить несколько таких газет, вырезать из них названия, склеить их друг за другом и стереть некоторые буквы так, чтобы получилось слово <span class="tex-span"><i>s</i><sub class="lower-index">2</sub></span>. Считается, что когда Клычок стирает какую-то букву, на ее месте не образуется пустое место. То есть строка остается неразрывной и по-прежнему состоит только из маленьких букв латинского алфавита.</p><p>Например, заголовок газеты — «<span class="tex-font-style-tt">abc</span>». Взяв два таких заголовка и склеив, получится «<span class="tex-font-style-tt">abcabc</span>». Если стереть буквы на позициях <span class="tex-span">1</span> и <span class="tex-span">5</span> получится слово «<span class="tex-font-style-tt">bcac</span>».</p><p>Какое наименьшее количество газетных заголовков <span class="tex-span"><i>s</i><sub class="lower-index">1</sub></span> понадобится Клычку, чтобы он мог их склеить, стереть несколько букв и получить слово <span class="tex-span"><i>s</i><sub class="lower-index">2</sub></span>?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>Входные данные содержат две строки. В первой строке записан заголовок <span class="tex-span"><i>s</i><sub class="lower-index">1</sub></span>, во второй строке записано слово <span class="tex-span"><i>s</i><sub class="lower-index">2</sub></span>. Строки состоят только из строчных латинских букв (<span class="tex-span">1 ≤ |<i>s</i><sub class="lower-index">1</sub>| ≤ 10<sup class="upper-index">4</sup>, 1 ≤ |<i>s</i><sub class="lower-index">2</sub>| ≤ 10<sup class="upper-index">6</sup></span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Если получить слово <span class="tex-span"><i>s</i><sub class="lower-index">2</sub></span> описанным выше способом невозможно, выведите «-1» (без кавычек). Иначе выведите наименьшее количество газетных заголовков <span class="tex-span"><i>s</i><sub class="lower-index">1</sub></span>, которое понадобится, чтобы получить слово <span class="tex-span"><i>s</i><sub class="lower-index">2</sub></span>.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>abc<br />xyz<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>-1<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>abcd<br />dabc<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Очередь</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В очереди в аэропорту стоят <span class="tex-span"><i>n</i></span> моржей. Они пронумерованы начиная с конца очереди: морж с номером <span class="tex-span">1</span> стоит в конце очереди, а морж с номером <span class="tex-span"><i>n</i></span> — в начале. Морж с номером <span class="tex-span"><i>i</i></span> имеет возраст <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>.</p><p>Морж с номером <span class="tex-span"><i>i</i></span> становится недовольным, если впереди него стоит более молодой морж, то есть существует такое <span class="tex-span"><i>j</i></span> (<span class="tex-span"><i>i</i> &lt; <i>j</i></span>), что <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub> &gt; <i>a</i><sub class="lower-index"><i>j</i></sub></span>. <span class="tex-font-style-it">Недовольство</span> <span class="tex-span"><i>i</i></span>-го моржа равно количеству моржей между ним и самым удаленным моржом впереди, который моложе <span class="tex-span"><i>i</i></span>-го. То есть чем дальше от него стоит этот молодой морж, тем сильнее недовольство. </p><p>Менеджер аэропорта попросил вас посчитать для каждого из <span class="tex-span"><i>n</i></span> моржей в очереди его недовольство.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 10<sup class="upper-index">5</sup></span>) — количество моржей в очереди. Во второй строке записаны целые числа <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>).</p><p>Обратите внимание, что некоторые моржи могут иметь одинаковый возраст, но для возникновения недовольства необходимо, чтобы тот морж, что ближе к началу, был <span class="tex-font-style-bf">строго моложе</span> другого.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите <span class="tex-span"><i>n</i></span> чисел: если <span class="tex-span"><i>i</i></span>-ый морж всем доволен, выведите «-1» (без кавычек). Иначе выведите недовольство <span class="tex-span"><i>i</i></span>-го моржа: количество моржей, которые стоят между ним и самым удаленным моржом впереди него, который более молод.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>6<br />10 8 5 3 50 45<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2 1 0 -1 0 -1 </pre></div><div class="input"><div class="title">Входные данные</div><pre>7<br />10 4 6 3 2 8 15<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>4 2 1 0 -1 -1 -1 </pre></div><div class="input"><div class="title">Входные данные</div><pre>5<br />10 3 1 10 11<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1 0 -1 -1 -1 </pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Лыжная база</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В Моржландии собираются построить лыжную базу. Пока проект находится на стадии строительства. Под строительство базы был выбран большой участок земли, на котором находится <span class="tex-span"><i>n</i></span> лыжных перекрестков. Изначально эти перекрестки никак не соединены.</p><p>В процессе строительства будет проложено <span class="tex-span"><i>m</i></span> двусторонних лыжных дорог. Дороги строятся по очереди: вначале будет построена дорога с номером <span class="tex-span">1</span>, потом дорога с номером <span class="tex-span">2</span>, и так далее. Дорога с номером <span class="tex-span"><i>i</i></span> соединяет перекрестки с номерами <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span>. </p><p><span class="tex-font-style-it">Трасса</span> — это маршрут, обладающий следующими свойствами:</p><p><ul></ul></p><p><li> Маршрут замкнут, то есть он начинается и заканчивается в одном и том же перекрестке.</li></p><p><li> Маршрут содержит хотя бы одну дорогу.</li></p><p><li> Маршрут не проходит по одной дороге более одного раза, но при этом может проходить через любой перекресток сколько угодно раз.</li></p><p>Будем называть <span class="tex-font-style-it">лыжной базой</span> непустое множество дорог, которое можно разбить на одну или более трасс так, чтобы по каждой дороге этого множества проходила ровно одна трасса, при этом каждая трасса может состоять только из дорог выбранного множества. Лыжная база может быть несвязной.</p><p>Две лыжные базы считаются различными, если они состоят из разных множеств дорог.</p><p>После постройки каждой новой дороги правительство Моржландии хочет знать количество вариантов выбрать лыжную базу на основе некоторого подмножества из уже построенных дорог. Правительство просит вашей помощи в решении данной задачи.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находятся два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">2 ≤ <i>n</i> ≤ 10<sup class="upper-index">5</sup>, 1 ≤ <i>m</i> ≤ 10<sup class="upper-index">5</sup></span>) — количество перекрестков и количество дорог соответственно. Далее в <span class="tex-span"><i>m</i></span> строках следует описание дорог в порядке их постройки. Каждая дорога описывается парой целых чисел <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub>, <i>b</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i>, <i>a</i><sub class="lower-index"><i>i</i></sub> ≠ <i>b</i><sub class="lower-index"><i>i</i></sub></span>) — номерами соединяемых перекрестков. Между парой перекрестков может быть более одной дороги.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите <span class="tex-span"><i>m</i></span> строк: <span class="tex-span"><i>i</i></span>-ая строка должна обозначать количество способов построить лыжную базу после окончания строительства дороги с номером <span class="tex-span"><i>i</i></span>. Числа следует выводить по модулю <span class="tex-span">1000000009</span> (<span class="tex-span">10<sup class="upper-index">9</sup> + 9</span>).</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>3 4<br />1 3<br />2 3<br />1 2<br />1 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br />0<br />1<br />3<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Пусть у нас 3 перекрестка и уже построены 4 дороги между перекрестками (как после построки всех дорог в примере): 1 и 3, 2 и 3, 2 дороги между перекрестками 1 и 2. Участок под постройку будет выглядеть следующим образом:</p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/d15526a1209c7099f35a0e14093da3c44ee9a6f1.png" /> </center> </p><p>Можно выбрать подмножество дорог 3мя способами:</p><p><center> <img class="tex-graphics" src="http://codeforces.ru/renderer/b927ea9db1d4fab347852e92f37b14dd1a130454.png" /> </center> </p><p>В первом и втором способах можно выбрать один маршрут, например, 1 - 2 - 3 - 1. В третьем случае можно выбрать один маршрут 1 - 2 - 1.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 4em;page-break-after: always;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Задача бакалейщика</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Вчера в бакалее супермаркета была ярмарка. На ярмарке было выставлено в ряд <span class="tex-span"><i>n</i></span> баночек с приправами, баночки были пронумерованы числами от <span class="tex-span">1</span> до <span class="tex-span"><i>n</i></span> слева направо. После мероприятия баночки перемешались и бакалейщику требуется упорядочить их в порядке возрастания номеров.</p><p>Бакалейщик имеет в распоряжении аппарат, который может взять <span class="tex-span">5</span> (или меньше) баночек, и переставить их между собой так, как захочет бакалейщик. При этом баночки <span class="tex-font-style-bf">не обязательно</span> должны стоять подряд. Например из порядка баночек <span class="tex-span">2</span>, <span class="tex-span">6</span>, <span class="tex-span">5</span>, <span class="tex-span">4</span>, <span class="tex-span">3</span>, <span class="tex-span">1</span> можно получить порядок <span class="tex-span">1</span>, <span class="tex-span">2</span>, <span class="tex-span">3</span>, <span class="tex-span">4</span>, <span class="tex-span">5</span>, <span class="tex-span">6</span>, если выбрать баночки на позициях <span class="tex-span">1</span>, <span class="tex-span">2</span>, <span class="tex-span">3</span>, <span class="tex-span">5</span> и <span class="tex-span">6</span>. </p><p>Какое наименьшее количество таких операций потребуется, чтобы упорядочить все баночки в порядке возрастания номеров?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 10<sup class="upper-index">5</sup></span>). Во второй строке через пробел записано <span class="tex-span"><i>n</i></span> целых чисел <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>) — <span class="tex-span"><i>i</i></span>-ое число задает номер баночки, стоящей на <span class="tex-span"><i>i</i></span>-ой позиции. Гарантируется, что все номера различны.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведите наименьшее количество операций для того, чтобы упорядочить все баночки в порядке возрастания номеров. Далее выведите описание всех действий в следующем формате. </p><p>В первой строке описания одного действия укажите сколько баночек нужно взять (<span class="tex-span"><i>k</i></span>), во второй строке — баночки на каких позициях выбрать (<span class="tex-span"><i>b</i><sub class="lower-index">1</sub>, <i>b</i><sub class="lower-index">2</sub>, ..., <i>b</i><sub class="lower-index"><i>k</i></sub></span>), в третьей — новый порядок баночек (<span class="tex-span"><i>c</i><sub class="lower-index">1</sub>, <i>c</i><sub class="lower-index">2</sub>, ..., <i>c</i><sub class="lower-index"><i>k</i></sub></span>). После выполнения операции баночка с позиции <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span> будет стоять на позиции <span class="tex-span"><i>c</i><sub class="lower-index"><i>i</i></sub></span>. Набор (<span class="tex-span"><i>c</i><sub class="lower-index">1</sub>, <i>c</i><sub class="lower-index">2</sub>, ..., <i>c</i><sub class="lower-index"><i>k</i></sub></span>) должен являться перестановкой набора (<span class="tex-span"><i>b</i><sub class="lower-index">1</sub>, <i>b</i><sub class="lower-index">2</sub>, ..., <i>b</i><sub class="lower-index"><i>k</i></sub></span>).</p><p>Если решений несколько, выведите любое.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>6<br />3 5 6 1 2 4<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br />4<br />1 3 6 4 <br />3 6 4 1 <br />2<br />2 5 <br />5 2 <br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>14<br />9 13 11 3 10 7 12 14 1 5 4 6 8 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br />4<br />2 13 8 14 <br />13 8 14 2 <br />5<br />6 7 12 5 10 <br />7 12 6 10 5 <br />5<br />3 11 4 1 9 <br />11 4 3 9 1 <br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Рассмотрим первый пример. Баночки можно упорядочить за две операции. </p><p>Во время перво операции мы возьмем баночки на позициях <span class="tex-span">1</span>, <span class="tex-span">3</span>, <span class="tex-span">6</span> и <span class="tex-span">4</span> и поставим их таким образом, что баночка, которая была на позиции <span class="tex-span">1</span> будет после завершения операции находиться на позиции <span class="tex-span">3</span>, баночка с позиции <span class="tex-span">3</span> окажется на позиции <span class="tex-span">6</span>, баночка с позиции <span class="tex-span">6</span> будет находиться на позиции <span class="tex-span">4</span>, а баночка с позиции <span class="tex-span">4</span> переместится на позицию <span class="tex-span">1</span>. </p><p>После первой операции порядок будет выглядеть так: <span class="tex-span">1</span>, <span class="tex-span">5</span>, <span class="tex-span">3</span>, <span class="tex-span">4</span>, <span class="tex-span">2</span>, <span class="tex-span">6</span>. </p><p>Во время второй операции баночки на позициях <span class="tex-span">2</span> и <span class="tex-span">5</span> поменяются местами.</p></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >

<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Иглу-небоскреб</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>5 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Сегодня на северном полюсе олимпиада по спортивному... строительству игрушечных иглу-небоскребов!</p><p>В соревновании принимают участие <span class="tex-span"><i>n</i></span> моржей. Каждому моржу выдан уникальный номер от <span class="tex-span">1</span> до <span class="tex-span"><i>n</i></span>. После старта каждый морж начинает строить свой собственный иглу-небоскреб. Изначально, в момент времени <span class="tex-span">0</span>, высота небоскреба <span class="tex-span"><i>i</i></span>-ого моржа равна <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>. Каждую минуту <span class="tex-span"><i>i</i></span>-ый морж достраивает <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span> этажей.</p><p>Журналисты, ведущие репортаж с места проведения олимпиады, делают <span class="tex-span"><i>q</i></span> запросов организаторам. Каждый запрос характеризуется тройкой чисел <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span>. На каждый запрос организаторы отвечают одним числом <span class="tex-span"><i>x</i></span>, таким, что:</p><p>1. Число <span class="tex-span"><i>x</i></span> лежит в диапазоне от <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> до <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> включительно (<span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub> ≤ <i>x</i> ≤ <i>r</i><sub class="lower-index"><i>i</i></sub></span>).</p><p>2. Небоскреб моржа с номером <span class="tex-span"><i>x</i></span> имеет наибольшую высоту среди небоскребов всех моржей из этого диапазона <span class="tex-span">[<i>l</i><sub class="lower-index"><i>i</i></sub>, <i>r</i><sub class="lower-index"><i>i</i></sub>]</span> в момент времени <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span>.</p><p>На каждый запрос журналистов выведите номер моржа <span class="tex-span"><i>x</i></span>, удовлетворяющего критериям выше. Если возможных ответов несколько, то выведите любой.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке содержатся числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>q</i></span> (<span class="tex-span">1 ≤ <i>n</i>, <i>q</i> ≤ 10<sup class="upper-index">5</sup></span>). В следующих <span class="tex-span"><i>n</i></span> строках идут пары чисел <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub>, <i>b</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>). Далее идут <span class="tex-span"><i>q</i></span> запросов вида <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> по одному в каждой строке (<span class="tex-span">1 ≤ <i>l</i><sub class="lower-index"><i>i</i></sub> ≤ <i>r</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>, <span class="tex-span">0 ≤ <i>t</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">6</sup></span>). Все числа на входе целые.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>На каждый запрос журналистов выведите номер моржа <span class="tex-span"><i>x</i></span>, удовлетворяющего критериям из условия, по одному в строке.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5 4<br />4 1<br />3 5<br />6 2<br />3 5<br />6 5<br />1 5 2<br />1 3 5<br />1 1 0<br />1 5 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>5<br />2<br />1<br />5<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>5 4<br />6 1<br />5 1<br />2 5<br />4 3<br />6 1<br />2 4 1<br />3 4 5<br />1 4 5<br />1 2 0<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br />3<br />3<br />1<br /></pre></div></div></div></div></div>

<script type="text/javascript">
    $(document).ready(function() {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }
    });
</script>
        </div>

    <br style="clear:both;"/>

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2013 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>
</body>
</html>                                       
