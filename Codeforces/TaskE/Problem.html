<div class="problem-statement"><div class="header"><div class="title">E. Ксюша и строковая задача</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>На олимпиаде по информатике программисту Ксюше попалась задача на строки. К сожалению, Ксюша не сильна в строковых алгоритмах. Помогите ей решить задачу.</p><p><span class="tex-font-style-it">Строкой</span> <span class="tex-span"><i>s</i></span> назовем последовательность символов <span class="tex-span"><i>s</i><sub class="lower-index">1</sub><i>s</i><sub class="lower-index">2</sub>... <i>s</i><sub class="lower-index">|<i>s</i>|</sub></span>, где записью <span class="tex-span">|<i>s</i>|</span> будем обозначать длину строки. </p><p><span class="tex-font-style-it">Подстрокой</span> <span class="tex-span"><i>s</i>[<i>i</i>... <i>j</i>]</span> строки <span class="tex-span"><i>s</i></span> будем называть строку <span class="tex-span"><i>s</i><sub class="lower-index"><i>i</i></sub><i>s</i><sub class="lower-index"><i>i</i> + 1</sub>... <i>s</i><sub class="lower-index"><i>j</i></sub></span>.</p><p>Строка <span class="tex-span"><i>s</i></span> является <span class="tex-font-style-it">строкой Грея</span>, если она удовлетворяет условиям:</p><p><ul> <li> длина строки <span class="tex-span">|<i>s</i>|</span> нечетная; </li><li> символ <img align="middle" class="tex-formula" src="http://codeforces.ru/renderer/8e6b1a9676618e32d345c927043ed569ea92b254.png" /> встречается в строке ровно один раз; </li><li> либо <span class="tex-span">|<i>s</i>| = 1</span>, либо подстроки <img align="middle" class="tex-formula" src="http://codeforces.ru/renderer/4d1de60169f554a3770ebe424729b3e1fc656e35.png" /> и <img align="middle" class="tex-formula" src="http://codeforces.ru/renderer/4fbabe3d7c046e7c2326c48d5b882d5348e2b803.png" /> равны между собой и являются строками Грея. </li></ul></p><p>Например, строки «<span class="tex-font-style-tt">abacaba</span>», «<span class="tex-font-style-tt">xzx</span>», «<span class="tex-font-style-tt">g</span>» являются строками Грея, а строки «<span class="tex-font-style-tt">aaa</span>», «<span class="tex-font-style-tt">xz</span>», «<span class="tex-font-style-tt">abaxcbc</span>» — нет.</p><p><span class="tex-font-style-it">Красотой</span> строки <span class="tex-span"><i>p</i></span> называется сумма квадратов длин всех подстрок строки <span class="tex-span"><i>p</i></span>, которые являются строками Грея. Другими словами, рассмотрим все пары значений <span class="tex-span"><i>i</i>, <i>j</i></span> <span class="tex-span">(1 ≤ <i>i</i> ≤ <i>j</i> ≤ |<i>p</i>|)</span>. Если подстрока <span class="tex-span"><i>p</i>[<i>i</i>... <i>j</i>]</span> является строкой Грея, к красоте нужно прибавить <span class="tex-span">(<i>j</i> - <i>i</i> + 1)<sup class="upper-index">2</sup></span>.</p><p>В задаче Ксюше задана строка <span class="tex-span"><i>t</i></span>, состоящая из символов латинского алфавита. Ей разрешается изменить не более одного символа этой строки на любой другой символ латинского алфавита. Задача состоит в том, чтобы получить строку как можно большей красоты.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записана непустая строка <span class="tex-span"><i>t</i></span> <span class="tex-span">(1 ≤ |<i>t</i>| ≤ 10<sup class="upper-index">5</sup>)</span>. Строка <span class="tex-span"><i>t</i></span> состоит только из строчных латинских букв.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите искомое максимальное значение красоты, которое удастся получить Ксюше.</p><p>Пожалуйста, не используйте спецификатор <span class="tex-font-style-tt">%lld</span> для чтения или записи 64-битных чисел на С++. Рекомендуется использовать потоки <span class="tex-font-style-tt">cin</span>, <span class="tex-font-style-tt">cout</span> или спецификатор <span class="tex-font-style-tt">%I64d</span>.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>zzz<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>12<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>aba<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>12<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>abacaba<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>83<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>aaaaaa<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>15<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом тестовом примере из заданной строки можно получить строку <span class="tex-span"><i>p</i></span> = «<span class="tex-font-style-tt">zbz</span>». В такой строке строками Грея являются подстроки <span class="tex-span"><i>p</i>[1... 1]</span>, <span class="tex-span"><i>p</i>[2... 2]</span>, <span class="tex-span"><i>p</i>[3... 3]</span> и <span class="tex-span"><i>p</i>[1... 3]</span>. Итого, красота строки <span class="tex-span"><i>p</i></span> получается равна <span class="tex-span">1<sup class="upper-index">2</sup> + 1<sup class="upper-index">2</sup> + 1<sup class="upper-index">2</sup> + 3<sup class="upper-index">2</sup> = 12</span>. Более красивую строку получить нельзя.</p><p>Во втором тестовом примере можно не применять никаких операций. Изначальная строка имеет наибольшую возможную красоту.</p></div></div></div>

