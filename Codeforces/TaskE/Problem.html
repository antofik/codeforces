<div class="problem-statement"><div class="header"><div class="title">E. Машмох и операция реверс</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>4 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>512 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p><span class="tex-font-style-it">Бимоху, начальнику Машмоха, Машмох не нравился. Вот он его и уволил. Решил тогда Машмох новую работу не искать, а поступить в университет и поучаствовать в ACM. Машмох хочет попасть в команду Бамоха. Для этого ему дали (в качестве испытания) несколько задач по программированию и неделю на их решение. Машмох не шибко умудренный программист. В общем-то, он и не программист вовсе. Так что ничего он не решил, а попросил вас помочь ему с этими заданиями. Одно из них такое:</span></p><p>Вам дан массив <span class="tex-span"><i>a</i></span> длины <span class="tex-span">2<sup class="upper-index"><i>n</i></sup></span>, а также <span class="tex-span"><i>m</i></span> запросов. Запрос номер <span class="tex-span"><i>i</i></span> характеризуется целым числом <span class="tex-span"><i>q</i><sub class="lower-index"><i>i</i></sub></span>. В ответ на <span class="tex-span"><i>i</i></span>-й запрос вы должны выполнить последовательность операций:</p><ul> <li> разбить массив на <span class="tex-span">2<sup class="upper-index"><i>n</i> - <i>q</i><sub class="lower-index"><i>i</i></sub></sup></span> частей, где каждая часть — подмассив, состоящий из <span class="tex-span">2<sup class="upper-index"><i>q</i><sub class="lower-index"><i>i</i></sub></sup></span> чисел; <span class="tex-span"><i>j</i></span>-й подмассив <span class="tex-span">(1 ≤ <i>j</i> ≤ 2<sup class="upper-index"><i>n</i> - <i>q</i><sub class="lower-index"><i>i</i></sub></sup>)</span> должен содержать элементы <span class="tex-span"><i>a</i>[(<i>j</i> - 1)·2<sup class="upper-index"><i>q</i><sub class="lower-index"><i>i</i></sub></sup> + 1], <i>a</i>[(<i>j</i> - 1)·2<sup class="upper-index"><i>q</i><sub class="lower-index"><i>i</i></sub></sup> + 2], ..., <i>a</i>[(<i>j</i> - 1)·2<sup class="upper-index"><i>q</i><sub class="lower-index"><i>i</i></sub></sup> + 2<sup class="upper-index"><i>q</i><sub class="lower-index"><i>i</i></sub></sup>]</span>; </li><li> выполнить реверс элементов каждого подмассива; </li><li> склеить все подмассивы в один массив в том же порядке (этот массив станет новым массивом <span class="tex-span"><i>a</i></span>); </li><li> вывести количество инверсий в новом массиве <span class="tex-span"><i>a</i></span>. </li></ul><p>Вам дан исходный массив <span class="tex-span"><i>a</i></span> и все запросы. Ответьте на все запросы. Обратите внимание, что изменения от запроса сохраняются для последующих запросов.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано единственное целое число <span class="tex-span"><i>n</i> (0 ≤ <i>n</i> ≤ 20)</span>. </p><p>Во второй строке записано <span class="tex-span">2<sup class="upper-index"><i>n</i></sup></span> целых чисел через пробел <span class="tex-span"><i>a</i>[1], <i>a</i>[2], ..., <i>a</i>[2<sup class="upper-index"><i>n</i></sup>] (1 ≤ <i>a</i>[<i>i</i>] ≤ 10<sup class="upper-index">9</sup>)</span>, исходный массив.</p><p>В третьей строке записано единственное целое число <span class="tex-span"><i>m</i> (1 ≤ <i>m</i> ≤ 10<sup class="upper-index">6</sup>)</span>. </p><p>В четвертой строке записано <span class="tex-span"><i>m</i></span> целых чисел через пробел <span class="tex-span"><i>q</i><sub class="lower-index">1</sub>, <i>q</i><sub class="lower-index">2</sub>, ..., <i>q</i><sub class="lower-index"><i>m</i></sub> (0 ≤ <i>q</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i>)</span> — запросы.</p><p><span class="tex-font-style-bf">Обратите внимание</span>: входные и выходные данные имеют очень большой размер, поэтому не стоит использовать медленные методы ввода и вывода данных вашего языка программирования. Например, в языке C++ не стоит использовать потоки ввода и вывода (cin, cout).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите <span class="tex-span"><i>m</i></span> строк. В <span class="tex-span"><i>i</i></span>-й строке выведите ответ (количество инверсий) на <span class="tex-span"><i>i</i></span>-й запрос.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>2<br />2 1 4 3<br />4<br />1 2 0 2<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br />6<br />6<br />0<br /></pre></div><div class="input"><div class="title">Входные данные</div><pre>1<br />1 2<br />3<br />0 1 1<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br />1<br />0<br /></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>При выполнении реверса массива <span class="tex-span"><i>x</i>[1], <i>x</i>[2], ..., <i>x</i>[<i>n</i>]</span> получается новый массив <span class="tex-span"><i>y</i>[1], <i>y</i>[2], ..., <i>y</i>[<i>n</i>]</span>, где <span class="tex-span"><i>y</i>[<i>i</i>] = <i>x</i>[<i>n</i> - <i>i</i> + 1]</span> для каждого <span class="tex-span"><i>i</i></span>.</p><p>Количество инверсий массива <span class="tex-span"><i>x</i>[1], <i>x</i>[2], ..., <i>x</i>[<i>n</i>]</span> — это количество пар индексов <span class="tex-span"><i>i</i>, <i>j</i></span>, таких, что: <span class="tex-span"><i>i</i> &lt; <i>j</i></span> и <span class="tex-span"><i>x</i>[<i>i</i>] &gt; <i>x</i>[<i>j</i>]</span>.</p></div></div></div>
</div>


