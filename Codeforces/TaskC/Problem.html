<div class="problem-statement"><div class="header"><div class="title">C. Необычное произведение</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 секунда</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Маленький Крис — большой любитель линейной алгебры. На этот раз в его домашней работе идет речь о <span class="tex-font-style-it">необычном квадрате</span> квадратной матрицы.</p><p><span class="tex-font-style-it">Скалярное произведение</span> двух целочисленных векторов <span class="tex-span"><i>x</i></span> и <span class="tex-span"><i>y</i></span> размера <span class="tex-span"><i>n</i></span> — это сумма произведений соответствующих координат этих векторов. <span class="tex-font-style-it">Необычный квадрат</span> квадратной матрицы <span class="tex-span"><i>A</i></span> размера <span class="tex-span"><i>n</i> × <i>n</i></span> определяется как сумма <span class="tex-span"><i>n</i></span> скалярных произведений: <span class="tex-span"><i>i</i></span>-е из них — это скалярное произведение вектора <span class="tex-span"><i>i</i></span>-й строки на вектор <span class="tex-span"><i>i</i></span>-го столбца матрицы <span class="tex-span"><i>A</i></span>.</p><p>К счастью для Криса, все арифметические операции нужно производить в поле GF(2)! Это значит, что все операции (сложение, умножение) вычисляются по модулю 2. В таком случае можно считать, что матрица <span class="tex-span"><i>A</i></span> двоичная: каждый элемент <span class="tex-span"><i>A</i></span> равен либо 0, либо 1. Например, рассмотрим следующую матрицу <span class="tex-span"><i>A</i></span>:</p><center> <img class="tex-graphics" src="http://espresso.codeforces.com/a1c62819044191bc2767ea3b86bdf9968823cf44.png" /> </center><p>Необычный квадрат <span class="tex-span"><i>A</i></span> в данном случае равен <span class="tex-span">(1·1 + 1·0 + 1·1) + (0·1 + 1·1 + 1·0) + (1·1 + 0·1 + 0·0) = 0 + 1 + 1 = 0</span>.</p><p>Однако, это еще далеко не вся домашняя работа. Крису требуется обработать <span class="tex-span"><i>q</i></span> запросов; каждый запрос может быть одним из следующих: </p><ol> <li> дан номер строки <span class="tex-span"><i>i</i></span>, выполните флип всех элементов в <span class="tex-span"><i>i</i></span>-й строке <span class="tex-span"><i>A</i></span>; </li><li> дан номер столбца <span class="tex-span"><i>i</i></span>, выполните флип всех элементов в <span class="tex-span"><i>i</i></span>-м столбце <span class="tex-span"><i>A</i></span>; </li><li> вычислите необычный квадрат <span class="tex-span"><i>A</i></span>. </li></ol><p>Применить операцию флип к элементу <span class="tex-span"><i>w</i></span> — значит, изменить его на <span class="tex-span">1 - <i>w</i></span> (1 меняется на 0, а 0 меняется на 1).</p><p>По заданной матрице <span class="tex-span"><i>A</i></span> и всем запросам, выведите ответы для каждого запроса третьего типа! Можете ли вы решить домашнюю работу Криса?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записано целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 1000</span>), количество строк и столбов в матрице <span class="tex-span"><i>A</i></span>. Следующие <span class="tex-span"><i>n</i></span> строк описывают матрицу: <span class="tex-span"><i>i</i></span>-я строка содержит <span class="tex-span"><i>n</i></span> целых чисел через пробел, <span class="tex-span"><i>j</i></span>-е число в этой строке <span class="tex-span"><i>a</i><sub class="lower-index"><i>ij</i></sub></span> (<span class="tex-span">0 ≤ <i>a</i><sub class="lower-index"><i>ij</i></sub> ≤ 1</span>) — это элемент, стоящий на пересечении <span class="tex-span"><i>i</i></span>-й строки и <span class="tex-span"><i>j</i></span>-го столбца матрицы <span class="tex-span"><i>A</i></span>.</p><p>В следующей строке записано целое число <span class="tex-span"><i>q</i></span> (<span class="tex-span">1 ≤ <i>q</i> ≤ 10<sup class="upper-index">6</sup></span>), количество запросов. Каждая из следующих <span class="tex-span"><i>q</i></span> строк описывает запрос. Описание запроса может иметь один из нижеперечисленных форматов:</p><ul> <li> 1 <span class="tex-span"><i>i</i></span> — выполните флип всех элементов в <span class="tex-span"><i>i</i></span>-й строке <span class="tex-span"><i>A</i></span>; </li><li> 2 <span class="tex-span"><i>i</i></span> — выполните флип всех элементов в <span class="tex-span"><i>i</i></span>-м столбце <span class="tex-span"><i>A</i></span>; </li><li> 3 — выведите необычный квадрат <span class="tex-span"><i>A</i></span>. </li></ul><p><span class="tex-font-style-bf">Обратите внимание</span>: входные и выходные данные имеют очень большой размер, не стоит использовать медленные методы ввода и вывода данных вашего языка программирования. Например, в языке C++ не стоит использовать потоки ввода и вывода (cin, cout).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Пусть количество запросов третьего типа во входных данных равняется <span class="tex-span"><i>m</i></span>. Выведите единственную строку <span class="tex-span"><i>s</i></span> длины <span class="tex-span"><i>m</i></span>, где <span class="tex-span"><i>i</i></span>-й символ строки <span class="tex-span"><i>s</i></span> является значением необычного квадрата по модулю 2 матрицы <span class="tex-span"><i>A</i></span> для <span class="tex-span"><i>i</i></span>-го запроса третьего типа.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>3<br />1 1 1<br />0 1 1<br />1 0 0<br />12<br />3<br />2 3<br />3<br />2 2<br />2 2<br />1 3<br />3<br />3<br />1 2<br />2 1<br />1 1<br />3<br /></pre></div><div class="output"><div class="title">Выходные данные</div><pre>01001<br /></pre></div></div></div></div></div>
</div>


